import{b as Me,g as $e,s as A,m as ee,aM as Bo,r as u,d as Y,_ as L,j as t,a as m,f as ge,h as Ie,aN as zt,aB as At,aC as Yt,u as Xe,aA as Wo,e as qo,aO as Go,aP as Qo,aQ as Ko,aR as Ot,aS as we,c as re,aT as Nt,aU as Oe,aV as Vt,aW as N,X as I,B as C,F as $,k as Fe,p as ae,aa as _e,ab as Ge,ap as Xo,ag as Ht,ah as Re,I as J,aX as Le,aY as Ut,aJ as Bt,am as Wt,aZ as Je,a_ as Jo,z as _,S as Zo,at as en,G as w,C as Ze,O as et,a$ as tn,o as on,t as nn,v as sn,w as rn,y as an,A as ln}from"./index-87ce3177.js";import{M as oe,C as cn}from"./MainCard-092178ce.js";import{l as V}from"./index-fb0b8ccc.js";import{s as qt,u as Gt,a as ie,b as Qt,v as tt,c as H,d as Kt,e as Se,f as ot,P as Xt,g as le,r as nt,h as Jt,i as Zt,j as ne,C as dn,k as Ee,l as eo,m as e,n as to,D as oo,o as un,p as pn,q as he,t as fe,w as Ft,x as Lt,y as no,z as mn,A as hn,B as Qe}from"./timeViewRenderers-526135d7.js";import{T as so}from"./TextField-e40dd1e3.js";import{S as fn}from"./SocketPlayer-634bb13a.js";import{d as xn,a as gn}from"./LastPage-063f8549.js";import{d as bn,a as Tn,g as ro}from"./getFormattedDateTime-9f097ac1.js";import{S as st}from"./Select-bf490ba6.js";import{M as Z}from"./MenuItem-fef4e83d.js";import{C as Pn}from"./CardHeader-23e1a264.js";import{A as jn}from"./Alert-01833b27.js";import{a as rt,P as at,b as it,c as lt,d as se,T as j,e as ct}from"./PaperTable-21146a52.js";import{d as vn}from"./DownloadRounded-35fd3e0a.js";import{_ as yn}from"./react-apexcharts.min-33d2365d.js";import{D as Cn,a as wn,b as _n}from"./DialogContent-c76e3a96.js";import{D as Dn}from"./DialogTitle-a9d71988.js";import{S as kn}from"./Send-66daf923.js";import{B as Et}from"./InputLabel-fc6e2611.js";import{M as Rn}from"./Link-3d4a28a2.js";import{F as Sn}from"./FormControl-63c0a756.js";import"./InputAdornment-2c96eb30.js";import"./Chip-53dd8257.js";function Mn(o){return Me("MuiDialogContentText",o)}$e("MuiDialogContentText",["root"]);const $n=["children","className"],In=o=>{const{classes:n}=o,s=Ie({root:["root"]},Mn,n);return m({},n,s)},On=A(ee,{shouldForwardProp:o=>Bo(o)||o==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(o,n)=>n.root})({}),Fn=u.forwardRef(function(n,r){const s=Y({props:n,name:"MuiDialogContentText"}),{className:a}=s,i=L(s,$n),d=In(i);return t.jsx(On,m({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:i,className:ge(d.root,a)},s,{classes:d}))}),Ln=Fn;function En(o){return Me("MuiTooltip",o)}const zn=$e("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),W=zn,An=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Yn(o){return Math.round(o*1e5)/1e5}const Nn=o=>{const{classes:n,disableInteractive:r,arrow:s,touch:a,placement:i}=o,d={popper:["popper",!r&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",a&&"touch",`tooltipPlacement${At(i.split("-")[0])}`],arrow:["arrow"]};return Ie(d,En,n)},Vn=A(zt,{name:"MuiTooltip",slot:"Popper",overridesResolver:(o,n)=>{const{ownerState:r}=o;return[n.popper,!r.disableInteractive&&n.popperInteractive,r.arrow&&n.popperArrow,!r.open&&n.popperClose]}})(({theme:o,ownerState:n,open:r})=>m({zIndex:(o.vars||o).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${W.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${W.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${W.arrow}`]:m({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${W.arrow}`]:m({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Hn=A("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(o,n)=>{const{ownerState:r}=o;return[n.tooltip,r.touch&&n.touch,r.arrow&&n.tooltipArrow,n[`tooltipPlacement${At(r.placement.split("-")[0])}`]]}})(({theme:o,ownerState:n})=>m({backgroundColor:o.vars?o.vars.palette.Tooltip.bg:Yt(o.palette.grey[700],.92),borderRadius:(o.vars||o).shape.borderRadius,color:(o.vars||o).palette.common.white,fontFamily:o.typography.fontFamily,padding:"4px 8px",fontSize:o.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:o.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:o.typography.pxToRem(14),lineHeight:`${Yn(16/14)}em`,fontWeight:o.typography.fontWeightRegular},{[`.${W.popper}[data-popper-placement*="left"] &`]:m({transformOrigin:"right center"},n.isRtl?m({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):m({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${W.popper}[data-popper-placement*="right"] &`]:m({transformOrigin:"left center"},n.isRtl?m({marginRight:"14px"},n.touch&&{marginRight:"24px"}):m({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${W.popper}[data-popper-placement*="top"] &`]:m({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${W.popper}[data-popper-placement*="bottom"] &`]:m({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})),Un=A("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(o,n)=>n.arrow})(({theme:o})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:o.vars?o.vars.palette.Tooltip.bg:Yt(o.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let De=!1,Ke=null,xe={x:0,y:0};function ke(o,n){return r=>{n&&n(r),o(r)}}const Bn=u.forwardRef(function(n,r){var s,a,i,d,h,c,l,p,f,x,b,T,P,v,O,y,F,R,D;const S=Y({props:n,name:"MuiTooltip"}),{arrow:E=!1,children:U,components:k={},componentsProps:G={},describeChild:Po=!1,disableFocusListener:jo=!1,disableHoverListener:dt=!1,disableInteractive:vo=!1,disableTouchListener:yo=!1,enterDelay:ut=100,enterNextDelay:pt=0,enterTouchDelay:Co=700,followCursor:ze=!1,id:wo,leaveDelay:mt=0,leaveTouchDelay:_o=1500,onClose:ht,onOpen:ft,open:Do,placement:xt="bottom",PopperComponent:Ae,PopperProps:Q={},slotProps:K={},slots:Te={},title:te,TransitionComponent:ko=Ot,TransitionProps:Ro}=S,gt=L(S,An),q=u.isValidElement(U)?U:t.jsx("span",{children:U}),Ye=Xe(),So=Ye.direction==="rtl",[ce,bt]=u.useState(),[Ne,Mo]=u.useState(null),Pe=u.useRef(!1),Ve=vo||ze,je=u.useRef(),ve=u.useRef(),X=u.useRef(),Tt=u.useRef(),[$o,Pt]=Wo({controlled:Do,default:!1,name:"Tooltip",state:"open"});let B=$o;const He=qo(wo),de=u.useRef(),ye=u.useCallback(()=>{de.current!==void 0&&(document.body.style.WebkitUserSelect=de.current,de.current=void 0),clearTimeout(Tt.current)},[]);u.useEffect(()=>()=>{clearTimeout(je.current),clearTimeout(ve.current),clearTimeout(X.current),ye()},[ye]);const jt=g=>{clearTimeout(Ke),De=!0,Pt(!0),ft&&!B&&ft(g)},Ce=Go(g=>{clearTimeout(Ke),Ke=setTimeout(()=>{De=!1},800+mt),Pt(!1),ht&&B&&ht(g),clearTimeout(je.current),je.current=setTimeout(()=>{Pe.current=!1},Ye.transitions.duration.shortest)}),Ue=g=>{Pe.current&&g.type!=="touchstart"||(ce&&ce.removeAttribute("title"),clearTimeout(ve.current),clearTimeout(X.current),ut||De&&pt?ve.current=setTimeout(()=>{jt(g)},De?pt:ut):jt(g))},vt=g=>{clearTimeout(ve.current),clearTimeout(X.current),X.current=setTimeout(()=>{Ce(g)},mt)},{isFocusVisibleRef:yt,onBlur:Io,onFocus:Oo,ref:Fo}=Qo(),[,Ct]=u.useState(!1),wt=g=>{Io(g),yt.current===!1&&(Ct(!1),vt(g))},_t=g=>{ce||bt(g.currentTarget),Oo(g),yt.current===!0&&(Ct(!0),Ue(g))},Dt=g=>{Pe.current=!0;const M=q.props;M.onTouchStart&&M.onTouchStart(g)},kt=Ue,Rt=vt,Lo=g=>{Dt(g),clearTimeout(X.current),clearTimeout(je.current),ye(),de.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Tt.current=setTimeout(()=>{document.body.style.WebkitUserSelect=de.current,Ue(g)},Co)},Eo=g=>{q.props.onTouchEnd&&q.props.onTouchEnd(g),ye(),clearTimeout(X.current),X.current=setTimeout(()=>{Ce(g)},_o)};u.useEffect(()=>{if(!B)return;function g(M){(M.key==="Escape"||M.key==="Esc")&&Ce(M)}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[Ce,B]);const zo=Ko(q.ref,Fo,bt,r);!te&&te!==0&&(B=!1);const Be=u.useRef(),Ao=g=>{const M=q.props;M.onMouseMove&&M.onMouseMove(g),xe={x:g.clientX,y:g.clientY},Be.current&&Be.current.update()},ue={},We=typeof te=="string";Po?(ue.title=!B&&We&&!dt?te:null,ue["aria-describedby"]=B?He:null):(ue["aria-label"]=We?te:null,ue["aria-labelledby"]=B&&!We?He:null);const z=m({},ue,gt,q.props,{className:ge(gt.className,q.props.className),onTouchStart:Dt,ref:zo},ze?{onMouseMove:Ao}:{}),pe={};yo||(z.onTouchStart=Lo,z.onTouchEnd=Eo),dt||(z.onMouseOver=ke(kt,z.onMouseOver),z.onMouseLeave=ke(Rt,z.onMouseLeave),Ve||(pe.onMouseOver=kt,pe.onMouseLeave=Rt)),jo||(z.onFocus=ke(_t,z.onFocus),z.onBlur=ke(wt,z.onBlur),Ve||(pe.onFocus=_t,pe.onBlur=wt));const Yo=u.useMemo(()=>{var g;let M=[{name:"arrow",enabled:!!Ne,options:{element:Ne,padding:4}}];return(g=Q.popperOptions)!=null&&g.modifiers&&(M=M.concat(Q.popperOptions.modifiers)),m({},Q.popperOptions,{modifiers:M})},[Ne,Q]),me=m({},S,{isRtl:So,arrow:E,disableInteractive:Ve,placement:xt,PopperComponentProp:Ae,touch:Pe.current}),qe=Nn(me),St=(s=(a=Te.popper)!=null?a:k.Popper)!=null?s:Vn,Mt=(i=(d=(h=Te.transition)!=null?h:k.Transition)!=null?d:ko)!=null?i:Ot,$t=(c=(l=Te.tooltip)!=null?l:k.Tooltip)!=null?c:Hn,It=(p=(f=Te.arrow)!=null?f:k.Arrow)!=null?p:Un,No=we(St,m({},Q,(x=K.popper)!=null?x:G.popper,{className:ge(qe.popper,Q==null?void 0:Q.className,(b=(T=K.popper)!=null?T:G.popper)==null?void 0:b.className)}),me),Vo=we(Mt,m({},Ro,(P=K.transition)!=null?P:G.transition),me),Ho=we($t,m({},(v=K.tooltip)!=null?v:G.tooltip,{className:ge(qe.tooltip,(O=(y=K.tooltip)!=null?y:G.tooltip)==null?void 0:O.className)}),me),Uo=we(It,m({},(F=K.arrow)!=null?F:G.arrow,{className:ge(qe.arrow,(R=(D=K.arrow)!=null?D:G.arrow)==null?void 0:R.className)}),me);return t.jsxs(u.Fragment,{children:[u.cloneElement(q,z),t.jsx(St,m({as:Ae??zt,placement:xt,anchorEl:ze?{getBoundingClientRect:()=>({top:xe.y,left:xe.x,right:xe.x,bottom:xe.y,width:0,height:0})}:ce,popperRef:Be,open:ce?B:!1,id:He,transition:!0},pe,No,{popperOptions:Yo,children:({TransitionProps:g})=>t.jsx(Mt,m({timeout:Ye.transitions.duration.shorter},g,Vo,{children:t.jsxs($t,m({},Ho,{children:[te,E?t.jsx(It,m({},Uo,{ref:Mo})):null]}))}))}))]})}),Wn=Bn,qn=re([t.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),t.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"1")],"CameraAlt"),Gn=re(t.jsx("path",{d:"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"}),"DownloadRounded"),Qn=re(t.jsx("path",{d:"m15.96 10.29-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"Filter"),Kn=re(t.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"}),"Timeline"),Xn=re(t.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"}),"VideoLibrary"),Jn=re(t.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam"),Zn=o=>{var n,r,s;const a=H(),i=Kt();return m({},o,{disablePast:(n=o.disablePast)!=null?n:!1,disableFuture:(r=o.disableFuture)!=null?r:!1,format:(s=o.format)!=null?s:a.formats.keyboardDate,minDate:Se(a,o.minDate,i.minDate),maxDate:Se(a,o.maxDate,i.maxDate)})},es=({props:o,inputRef:n})=>{const r=Zn(o),{forwardedProps:s,internalProps:a}=qt(r,"date");return Gt({inputRef:n,forwardedProps:s,internalProps:a,valueManager:ie,fieldValueManager:Qt,validator:tt,valueType:"date"})},ts=["components","componentsProps","slots","slotProps","InputProps","inputProps"],os=["inputRef"],ns=["ref","onPaste","onKeyDown","inputMode","readOnly"],ao=u.forwardRef(function(n,r){var s,a,i;const d=Y({props:n,name:"MuiDateField"}),{components:h,componentsProps:c,slots:l,slotProps:p,InputProps:f,inputProps:x}=d,b=L(d,ts),T=d,P=(s=(a=l==null?void 0:l.textField)!=null?a:h==null?void 0:h.TextField)!=null?s:so,v=Nt({elementType:P,externalSlotProps:(i=p==null?void 0:p.textField)!=null?i:c==null?void 0:c.textField,externalForwardedProps:b,ownerState:T}),{inputRef:O}=v,y=L(v,os);y.inputProps=m({},x,y.inputProps),y.InputProps=m({},f,y.InputProps);const F=es({props:y,inputRef:O}),{ref:R,onPaste:D,onKeyDown:S,inputMode:E,readOnly:U}=F,k=L(F,ns);return t.jsx(P,m({ref:r},k,{InputProps:m({},k.InputProps,{readOnly:U}),inputProps:m({},k.inputProps,{inputMode:E,onPaste:D,onKeyDown:S,ref:R})}))}),ss=o=>{var n,r,s,a;const i=H(),h=((n=o.ampm)!=null?n:i.is12HourCycleInCurrentLocale())?i.formats.fullTime12h:i.formats.fullTime24h;return m({},o,{disablePast:(r=o.disablePast)!=null?r:!1,disableFuture:(s=o.disableFuture)!=null?s:!1,format:(a=o.format)!=null?a:h})},rs=({props:o,inputRef:n})=>{const r=ss(o),{forwardedProps:s,internalProps:a}=qt(r,"time");return Gt({inputRef:n,forwardedProps:s,internalProps:a,valueManager:ie,fieldValueManager:Qt,validator:ot,valueType:"time"})},as=["slots","slotProps","components","componentsProps","InputProps","inputProps"],is=["inputRef"],ls=["ref","onPaste","onKeyDown","inputMode","readOnly"],io=u.forwardRef(function(n,r){var s,a,i;const d=Y({props:n,name:"MuiTimeField"}),{slots:h,slotProps:c,components:l,componentsProps:p,InputProps:f,inputProps:x}=d,b=L(d,as),T=d,P=(s=(a=h==null?void 0:h.textField)!=null?a:l==null?void 0:l.TextField)!=null?s:so,v=Nt({elementType:P,externalSlotProps:(i=c==null?void 0:c.textField)!=null?i:p==null?void 0:p.textField,externalForwardedProps:b,ownerState:T}),{inputRef:O}=v,y=L(v,is);y.inputProps=m({},x,y.inputProps),y.InputProps=m({},f,y.InputProps);const F=rs({props:y,inputRef:O}),{ref:R,onPaste:D,onKeyDown:S,inputMode:E,readOnly:U}=F,k=L(F,ls);return t.jsx(P,m({ref:r},k,{InputProps:m({},k.InputProps,{readOnly:U}),inputProps:m({},k.inputProps,{inputMode:E,onPaste:D,onKeyDown:S,ref:R})}))});function cs(o){return Me("MuiDatePickerToolbar",o)}$e("MuiDatePickerToolbar",["root","title"]);const ds=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views"],us=o=>{const{classes:n}=o;return Ie({root:["root"],title:["title"]},cs,n)},ps=A(Xt,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(o,n)=>n.root})({}),ms=A(ee,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(o,n)=>n.title})(({ownerState:o})=>m({},o.isLandscape&&{margin:"auto 16px auto auto"})),hs=u.forwardRef(function(n,r){const s=Y({props:n,name:"MuiDatePickerToolbar"}),{value:a,isLandscape:i,toolbarFormat:d,toolbarPlaceholder:h="––",views:c}=s,l=L(s,ds),p=H(),f=le(),x=us(s),b=u.useMemo(()=>{if(!a)return h;const P=nt(p,{format:d,views:c},!0);return p.formatByString(a,P)},[a,d,h,p,c]),T=s;return t.jsx(ps,m({ref:r,toolbarTitle:f.datePickerToolbarTitle,isLandscape:i,className:x.root},l,{children:t.jsx(ms,{variant:"h4",align:i?"left":"center",ownerState:T,className:x.title,children:b})}))});function lo(o,n){var r,s,a,i;const d=H(),h=Kt(),c=Y({props:o,name:n}),l=u.useMemo(()=>{var f;return((f=c.localeText)==null?void 0:f.toolbarTitle)==null?c.localeText:m({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),p=(r=c.slots)!=null?r:Jt(c.components);return m({},c,{localeText:l},Zt({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(s=c.disableFuture)!=null?s:!1,disablePast:(a=c.disablePast)!=null?a:!1,minDate:Se(d,c.minDate,h.minDate),maxDate:Se(d,c.maxDate,h.maxDate),slots:m({toolbar:hs},p),slotProps:(i=c.slotProps)!=null?i:c.componentsProps})}const co=u.forwardRef(function(n,r){var s,a,i,d;const h=le(),c=H(),l=lo(n,"MuiDesktopDatePicker"),p=m({day:ne,month:ne,year:ne},l.viewRenderers),f=m({},l,{viewRenderers:p,format:nt(c,l,!1),yearsPerRow:(s=l.yearsPerRow)!=null?s:4,slots:m({openPickerIcon:dn,field:ao},l.slots),slotProps:m({},l.slotProps,{field:b=>{var T;return m({},Oe((T=l.slotProps)==null?void 0:T.field,b),Ee(l),{ref:r})},toolbar:m({hidden:!0},(a=l.slotProps)==null?void 0:a.toolbar)})}),{renderPicker:x}=eo({props:f,valueManager:ie,valueType:"date",getOpenDialogAriaText:(i=(d=f.localeText)==null?void 0:d.openDatePickerDialogue)!=null?i:h.openDatePickerDialogue,validator:tt});return x()});co.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,dayOfWeekFormatter:e.func,defaultCalendarMonth:e.any,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:e.oneOfType([e.func,e.shape({current:e.object})]),label:e.node,loading:e.bool,localeText:e.object,maxDate:e.any,minDate:e.any,monthsPerRow:e.oneOf([3,4]),onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.any,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const uo=u.forwardRef(function(n,r){var s,a,i;const d=le(),h=H(),c=lo(n,"MuiMobileDatePicker"),l=m({day:ne,month:ne,year:ne},c.viewRenderers),p=m({},c,{viewRenderers:l,format:nt(h,c,!1),slots:m({field:ao},c.slots),slotProps:m({},c.slotProps,{field:x=>{var b;return m({},Oe((b=c.slotProps)==null?void 0:b.field,x),Ee(c),{ref:r})},toolbar:m({hidden:!1},(s=c.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:f}=to({props:p,valueManager:ie,valueType:"date",getOpenDialogAriaText:(a=(i=p.localeText)==null?void 0:i.openDatePickerDialogue)!=null?a:d.openDatePickerDialogue,validator:tt});return f()});uo.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,dayOfWeekFormatter:e.func,defaultCalendarMonth:e.any,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:e.oneOfType([e.func,e.shape({current:e.object})]),label:e.node,loading:e.bool,localeText:e.object,maxDate:e.any,minDate:e.any,monthsPerRow:e.oneOf([3,4]),onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.any,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const fs=["desktopModeMediaQuery"],po=u.forwardRef(function(n,r){const s=Y({props:n,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=oo}=s,i=L(s,fs);return Vt(a,{defaultMatches:!0})?t.jsx(co,m({ref:r},i)):t.jsx(uo,m({ref:r},i))});function xs(o){return Me("MuiTimePickerToolbar",o)}const be=$e("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),gs=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly"],bs=o=>{const{theme:n,isLandscape:r,classes:s}=o,a={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",r&&"hourMinuteLabelLandscape",n.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",r&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Ie(a,xs,s)},Ts=A(Xt,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(o,n)=>n.root})({}),Ps=A(un,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(o,n)=>n.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),mo=A("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(o,n)=>[{[`&.${be.hourMinuteLabelLandscape}`]:n.hourMinuteLabelLandscape,[`&.${be.hourMinuteLabelReverse}`]:n.hourMinuteLabelReverse},n.hourMinuteLabel]})(({theme:o,ownerState:n})=>m({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},n.isLandscape&&{marginTop:"auto"},o.direction==="rtl"&&{flexDirection:"row-reverse"}));mo.propTypes={as:e.elementType,ownerState:e.object.isRequired,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])};const ho=A("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(o,n)=>[{[`.${be.ampmLabel}`]:n.ampmLabel},{[`&.${be.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})(({ownerState:o})=>m({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},o.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${be.ampmLabel}`]:{fontSize:17}}));ho.propTypes={as:e.elementType,ownerState:e.object.isRequired,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])};function js(o){const n=Y({props:o,name:"MuiTimePickerToolbar"}),{ampm:r,ampmInClock:s,value:a,isLandscape:i,onChange:d,view:h,onViewChange:c,views:l,disabled:p,readOnly:f}=n,x=L(n,gs),b=H(),T=le(),P=Xe(),v=!!(r&&!s&&l.includes("hours")),{meridiemMode:O,handleMeridiemChange:y}=pn(a,r,d),F=E=>r?b.format(E,"hours12h"):b.format(E,"hours24h"),R=n,D=bs(m({},R,{theme:P})),S=t.jsx(Ps,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:D.separator});return t.jsxs(Ts,m({landscapeDirection:"row",toolbarTitle:T.timePickerToolbarTitle,isLandscape:i,ownerState:R,className:D.root},x,{children:[t.jsxs(mo,{className:D.hourMinuteLabel,ownerState:R,children:[he(l,"hours")&&t.jsx(fe,{tabIndex:-1,variant:"h3",onClick:()=>c("hours"),selected:h==="hours",value:a?F(a):"--"}),he(l,["hours","minutes"])&&S,he(l,"minutes")&&t.jsx(fe,{tabIndex:-1,variant:"h3",onClick:()=>c("minutes"),selected:h==="minutes",value:a?b.format(a,"minutes"):"--"}),he(l,["minutes","seconds"])&&S,he(l,"seconds")&&t.jsx(fe,{variant:"h3",onClick:()=>c("seconds"),selected:h==="seconds",value:a?b.format(a,"seconds"):"--"})]}),v&&t.jsxs(ho,{className:D.ampmSelection,ownerState:R,children:[t.jsx(fe,{disableRipple:!0,variant:"subtitle2",selected:O==="am",typographyClassName:D.ampmLabel,value:Ft(b,"am"),onClick:f?void 0:()=>y("am"),disabled:p}),t.jsx(fe,{disableRipple:!0,variant:"subtitle2",selected:O==="pm",typographyClassName:D.ampmLabel,value:Ft(b,"pm"),onClick:f?void 0:()=>y("pm"),disabled:p})]})]}))}function fo(o,n){var r,s,a,i,d;const h=H(),c=Y({props:o,name:n}),l=(r=c.ampm)!=null?r:h.is12HourCycleInCurrentLocale(),p=u.useMemo(()=>{var b;return((b=c.localeText)==null?void 0:b.toolbarTitle)==null?c.localeText:m({},c.localeText,{timePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),f=(s=c.slots)!=null?s:Jt(c.components),x=(a=c.slotProps)!=null?a:c.componentsProps;return m({},c,{ampm:l,localeText:p},Zt({views:c.views,openTo:c.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(i=c.disableFuture)!=null?i:!1,disablePast:(d=c.disablePast)!=null?d:!1,slots:m({toolbar:js},f),slotProps:m({},x,{toolbar:m({ampm:l,ampmInClock:c.ampmInClock},x==null?void 0:x.toolbar)})})}const xo=u.forwardRef(function(n,r){var s,a,i,d,h,c,l;const p=le(),f=H(),x=fo(n,"MuiDesktopTimePicker"),b=(s=x.thresholdToRenderTimeInASingleColumn)!=null?s:24,T=m({hours:1,minutes:5,seconds:5},x.timeSteps),P=24*60/(T.hours*T.minutes)<=b,v=P?hn:Lt,O=m({hours:v,minutes:v,seconds:v,meridiem:v},x.viewRenderers),y=(a=x.ampmInClock)!=null?a:!0,F=P?[]:["accept"],R=((i=O.hours)==null?void 0:i.name)===Lt.name,D=x.ampm&&R?[...x.views,"meridiem"]:x.views,S=m({},x,{ampmInClock:y,timeSteps:T,viewRenderers:O,format:no(f,x),views:P?["hours"]:D,slots:m({field:io,openPickerIcon:mn},x.slots),slotProps:m({},x.slotProps,{field:U=>{var k;return m({},Oe((k=x.slotProps)==null?void 0:k.field,U),Ee(x),{ref:r})},toolbar:m({hidden:!0,ampmInClock:y},(d=x.slotProps)==null?void 0:d.toolbar),actionBar:m({actions:F},(h=x.slotProps)==null?void 0:h.actionBar)})}),{renderPicker:E}=eo({props:S,valueManager:ie,valueType:"time",getOpenDialogAriaText:(c=(l=S.localeText)==null?void 0:l.openTimePickerDialogue)!=null?c:p.openTimePickerDialogue,validator:ot});return E()});xo.propTypes={ampm:e.bool,ampmInClock:e.bool,autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableIgnoringDatePartForTimeValidation:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:e.oneOfType([e.func,e.shape({current:e.object})]),label:e.node,localeText:e.object,maxTime:e.any,minTime:e.any,minutesStep:e.number,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,open:e.bool,openTo:e.oneOf(["hours","meridiem","minutes","seconds"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableClock:e.func,shouldDisableTime:e.func,skipDisabled:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),thresholdToRenderTimeInASingleColumn:e.number,timeSteps:e.shape({hours:e.number,minutes:e.number,seconds:e.number}),timezone:e.string,value:e.any,view:e.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:e.shape({hours:e.func,meridiem:e.func,minutes:e.func,seconds:e.func}),views:e.arrayOf(e.oneOf(["hours","minutes","seconds"]).isRequired)};const go=u.forwardRef(function(n,r){var s,a,i,d;const h=le(),c=H(),l=fo(n,"MuiMobileTimePicker"),p=m({hours:Qe,minutes:Qe,seconds:Qe},l.viewRenderers),f=(s=l.ampmInClock)!=null?s:!1,x=m({},l,{ampmInClock:f,viewRenderers:p,format:no(c,l),slots:m({field:io},l.slots),slotProps:m({},l.slotProps,{field:T=>{var P;return m({},Oe((P=l.slotProps)==null?void 0:P.field,T),Ee(l),{ref:r})},toolbar:m({hidden:!1,ampmInClock:f},(a=l.slotProps)==null?void 0:a.toolbar)})}),{renderPicker:b}=to({props:x,valueManager:ie,valueType:"time",getOpenDialogAriaText:(i=(d=x.localeText)==null?void 0:d.openTimePickerDialogue)!=null?i:h.openTimePickerDialogue,validator:ot});return b()});go.propTypes={ampm:e.bool,ampmInClock:e.bool,autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableIgnoringDatePartForTimeValidation:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:e.oneOfType([e.func,e.shape({current:e.object})]),label:e.node,localeText:e.object,maxTime:e.any,minTime:e.any,minutesStep:e.number,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,open:e.bool,openTo:e.oneOf(["hours","minutes","seconds"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableClock:e.func,shouldDisableTime:e.func,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.any,view:e.oneOf(["hours","minutes","seconds"]),viewRenderers:e.shape({hours:e.func,minutes:e.func,seconds:e.func}),views:e.arrayOf(e.oneOf(["hours","minutes","seconds"]).isRequired)};const vs=["desktopModeMediaQuery"],ys=u.forwardRef(function(n,r){const s=Y({props:n,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=oo}=s,i=L(s,vs);return Vt(a,{defaultMatches:!0})?t.jsx(xo,m({ref:r},i)):t.jsx(go,m({ref:r},i))}),Cs=({ctrl_id:o})=>{const[n,r]=u.useState(null),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/lastsnapshot/${o}`,{auth:{token:N.get("token")}})),s.current.on("lastsnapshot",a=>{r(a)}),s.current.on("new_image",a=>{r(a)}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o]),t.jsx(t.Fragment,{children:t.jsx(oe,{title:"Ultima Foto",children:n&&t.jsx(C,{component:"img",sx:{height:"100%",width:"100%",overflow:"hidden",borderRadius:"4px"},src:n})})})},ws=({timePicked:o,datePicked:n,setDatePicked:r,setTimePicked:s})=>t.jsxs($,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(po,{value:n,onChange:a=>r(a),slotProps:{textField:{size:"small",sx:{maxWidth:150,"& .MuiOutlinedInput-root":{"& fieldset":{}}}}}}),t.jsx(ys,{views:["hours"],ampm:!1,defaultValue:o,onChange:a=>s(a),slotProps:{textField:{size:"small",sx:{maxWidth:85,"& .MuiOutlinedInput-root":{"& fieldset":{}}}},digitalClockSectionItem:{}}})]}),_s=A(({className:o,...n})=>t.jsx(Wn,{...n,classes:{popper:o}}))(({theme:o})=>({[`& .${W.tooltip}`]:{backgroundColor:o.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:o.shadows[1],fontSize:11}})),Ds=({camaras:o,xnodo:n,xnodoid:r,xregion:s})=>{const a=Fe(l=>l.stream),[i,d]=u.useState(null),h=ae(),c=(l,p)=>{if(p!==null){const f=o.find(x=>x.ip===p);d(p),f&&h(_e({nodo:n,ip:p,ctrl_id:parseInt(r,10),puertows:f.puertows,tipo:f.tipo,cmr_id:f.cmr_id,region:s}))}};return u.useEffect(()=>{if(o.length>0){const l=a.ip;if(l){const p=o.find(f=>f.ip===l);p?(d(p.ip),h(_e({nodo:n,ip:p.ip,ctrl_id:parseInt(r,10),puertows:p.puertows,tipo:p.tipo,cmr_id:p.cmr_id,region:s})),h(Ge({isSelected:!0}))):(d(o[0].ip),h(_e({nodo:n,ctrl_id:parseInt(r,10),ip:o[0].ip,puertows:o[0].puertows,tipo:o[0].tipo,cmr_id:o[0].cmr_id,region:s})),h(Ge({isSelected:!0})))}else d(o[0].ip),h(_e({nodo:n,ctrl_id:parseInt(r,10),ip:o[0].ip,puertows:o[0].puertows,tipo:o[0].tipo,cmr_id:o[0].cmr_id,region:s})),h(Ge({isSelected:!0}))}},[o]),u.useEffect(()=>()=>{h(Xo())},[]),t.jsx(t.Fragment,{children:t.jsx(Ht,{color:"primary",value:i,exclusive:!0,onChange:c,"aria-label":"Cameras",size:"small",children:o.map((l,p)=>t.jsx(Re,{value:l.ip,"aria-label":"Camara 1",sx:{padding:0},children:t.jsx(_s,{title:l.descripcion,arrow:!0,children:t.jsxs($,{direction:"row",spacing:1,alignItems:"center",padding:{lg:1,xs:.5},children:[t.jsx(qn,{}),t.jsxs("div",{children:["Cam ",p+1]})]})})},l.ip))})})},ks=()=>{const o=Fe(s=>s.stream),{ctrl_id:n,ip:r}=o;return t.jsx(t.Fragment,{children:t.jsx(C,{sx:{width:"100%",height:"100%",position:"relative"},children:r&&t.jsx(t.Fragment,{children:t.jsx(fn,{ctrl_id:n,ip:r,q:"q1"},n+r)})})})},bo=u.forwardRef(({title:o,count:n,onChangeIndex:r,current_index:s},a)=>{const[i,d]=u.useState(1),h=x=>{d(x.target.value)},c=()=>{r(0)},l=()=>{let x=s-i<0?0:s-i;r(x)},p=()=>{let x=s+i>n-1?n-1:s+i;r(x)},f=()=>{r(n-1)};return t.jsx(C,{component:"div",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:1},ref:a,children:n>0&&t.jsxs(t.Fragment,{children:[t.jsxs(ee,{component:"p",color:"white",sx:{userSelect:"none"},children:[o," :"]}),t.jsxs(st,{id:"control-select",name:"control-select",value:i,onChange:h,size:"small",inputProps:{"aria-label":"Select RowsPerPage"},SelectDisplayProps:{style:{paddingTop:5,paddingBottom:5,borderColor:"white"}},sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiSvgIcon-root":{color:"white"}},children:[t.jsx(Z,{value:1,children:1}),t.jsx(Z,{value:10,children:10}),t.jsx(Z,{value:20,children:20}),t.jsx(Z,{value:50,children:50})]}),t.jsx(ee,{component:"div",color:"white",sx:{userSelect:"none"},children:`${s+1} de ${n}`}),t.jsxs(C,{sx:{flexShrink:0,ml:2.5},children:[t.jsx(J,{onClick:c,disabled:s===0,"aria-label":"first page",children:t.jsx(xn,{})}),t.jsx(J,{onClick:l,disabled:s===0,"aria-label":"previous page",children:t.jsx(bn,{})}),t.jsx(J,{onClick:p,disabled:s===n-1,"aria-label":"next page",children:t.jsx(Tn,{})}),t.jsx(J,{onClick:f,disabled:s===n-1,"aria-label":"last page",children:t.jsx(gn,{})})]})]})})}),Rs=async(o,n)=>{try{const s=await(await fetch(`${I}/api/v1/site/multimedia/download?filePath=${encodeURIComponent(o)}`)).blob(),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=n,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(r){console.error("Error downloading image:",r)}},Ss=({slides:o})=>{const[n,r]=u.useState([]),[s,a]=u.useState(0),i=()=>{if(n.length>0&&n[s]){const l=n[s],p=`downloaded-image-${l.fecha}.jpg`;Rs(l.ruta,p)}},d=ae(),h=l=>{l.currentTarget===l.target&&d(Le())},c=l=>{a(l)};return u.useEffect(()=>{r(o),a(0)},[o]),t.jsx(t.Fragment,{children:t.jsx(C,{sx:{width:"100%",height:"100%",position:"absolute"},children:t.jsxs(C,{sx:{position:"relative",height:"100%",width:"100%"},children:[t.jsx(C,{component:"div",sx:{position:"absolute",bottom:0,left:0,width:"100%",background:"rgba(0, 0, 0, 0.3)",py:1,"&: hover":{}},children:t.jsxs($,{spacing:1,direction:"row",alignItems:"center",justifyContent:"center",sx:{position:"relative"},onDoubleClickCapture:h,children:[t.jsx(bo,{title:"N° Fotos",count:n.length,current_index:s,onChangeIndex:c}),t.jsx(J,{"aria-label":"back",sx:{position:"absolute",bottom:"cacl(50% - 23px)",left:10,cursor:"pointer"},onClick:i,children:t.jsx(Gn,{sx:{color:"#FD8D14",fontSize:30}})})]})}),n.length>0&&n[s]&&t.jsx(C,{component:"img",sx:{height:"100%",overflow:"hidden",width:"100%",borderRadius:"4px",userSelect:"none"},src:`${I+"/"+n[s].ruta}`,onDoubleClickCapture:h})]})})})},Ms="/assets/emptyData-e7a50cc8.svg",To=({children:o})=>t.jsxs($,{spacing:1,alignItems:"center",children:[t.jsx("img",{src:Ms,alt:"",width:100}),t.jsx(ee,{component:"p",variant:"body1",children:o&&o||"No data"})]}),$s=({data:o})=>{const{cmr_id:n,ctrl_id:r,date:s,hour:a}=o,{isError:i,isSuccess:d,isLoading:h,data:c}=Ut({ctrl_id:r,date:s,hour:a,tipo:0,cmr_id:n}),l=ae(),p=f=>{f.currentTarget===f.target&&l(Le())};return t.jsxs(C,{sx:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onDoubleClickCapture:p,children:[h&&t.jsx(Bt,{children:"Cargando Fotos"}),i&&t.jsx(Wt,{children:"Error no se encontraron imagenes!"}),d&&c.length>0&&t.jsx(Ss,{slides:c}),d&&c.length==0&&t.jsx(To,{children:"No se encontraron fotos."})]})},Is=({slides:o})=>{const[n,r]=u.useState([]),[s,a]=u.useState(0),i=ae(),d=p=>{p.currentTarget===p.target&&i(Le())},h=p=>{a(p)},c=u.useRef(null),l=c.current?`calc( 50% - ${c.current.getBoundingClientRect().width*.5}px )`:0;return u.useEffect(()=>{r(o),a(0)},[o]),t.jsx(t.Fragment,{children:t.jsx(C,{sx:{width:"100%",height:"100%",position:"absolute"},children:t.jsxs(C,{sx:{position:"relative",height:"100%",width:"100%"},children:[n.length>0&&n[s]&&t.jsx(C,{component:"video",sx:{height:"100%",overflow:"hidden",width:"100%",borderRadius:"4px"},controls:!0,src:`${I+"/"+n[s].ruta}`,onDoubleClickCapture:d,onClick:p=>{p.preventDefault(),p.detail==2&&p.stopPropagation()}}),t.jsx(C,{component:"div",sx:{position:"absolute",bottom:"7%",left:l},children:t.jsx(bo,{ref:c,title:"N° Videos",count:n.length,current_index:s,onChangeIndex:h})})]})})})},Os=({data:o})=>{const{cmr_id:n,ctrl_id:r,date:s,hour:a}=o,{isError:i,isSuccess:d,isLoading:h,data:c}=Ut({ctrl_id:r,date:s,hour:a,tipo:1,cmr_id:n}),l=ae(),p=f=>{f.currentTarget===f.target&&l(Le())};return t.jsxs(C,{sx:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onDoubleClickCapture:p,children:[h&&t.jsx(Bt,{children:"Cargando videos"}),i&&t.jsx(Wt,{children:"Error no se encontraron videos!"}),d&&c.length>0&&t.jsx(Is,{slides:c}),d&&c.length==0&&t.jsx(To,{children:"No se encontraron videos."})]})},Fs=({option:o,handleChangeOption:n})=>t.jsxs(Ht,{color:"primary",value:o,exclusive:!0,onChange:n,"aria-label":"Options",size:"small",children:[t.jsx(Re,{value:"vivo","aria-label":"Vivo",children:t.jsxs($,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Jn,{}),t.jsx("span",{children:" Vivo"})]})}),t.jsx(Re,{value:"video","aria-label":"Video",children:t.jsxs($,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Xn,{}),t.jsx("span",{children:" Video"})]})}),t.jsx(Re,{value:"fotos","aria-label":"Fotos",children:t.jsxs($,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Qn,{}),t.jsx("span",{children:" Fotos"})]})})]}),Ls=()=>{const{xregion:o,xnodo:n,xnodoid:r}=Je(),s=Fe(P=>P.stream),{isError:a,isSuccess:i,data:d}=Jo({ctrl_id:Number(r)},{refetchOnMountOrArgChange:!0}),[h,c]=u.useState("vivo"),l=(P,v)=>{v!==null&&c(v)},[p,f]=u.useState(_()),[x,b]=u.useState(_()),T=u.useRef(null);return t.jsxs(Zo,{children:[t.jsx(Pn,{ref:T,sx:{p:.5,"& .MuiCardHeader-action":{m:"auto auto",display:"flex"},overflow:"auto"},action:t.jsx("div",{style:{width:"100%",height:"100%"},children:t.jsxs($,{direction:"row",spacing:2,alignItems:"center",children:[(h==="fotos"||h==="video")&&t.jsx(ws,{timePicked:x,datePicked:p,setDatePicked:f,setTimePicked:b}),i&&d.length>0&&t.jsx(Ds,{camaras:d,xnodo:n,xnodoid:r,xregion:o}),a&&t.jsx(jn,{variant:"filled",severity:"error",children:"Error al cargar camaras."})]})})}),t.jsxs(en,{sx:{flex:1,padding:.5,"&:last-child":{paddingBottom:.5}},children:[h==="vivo"&&s.ip&&s.ctrl_id&&i&&d.length>0&&t.jsx(ks,{},s.ctrl_id+s.cmr_id+s.ip),h==="fotos"&&t.jsx($s,{data:{cmr_id:s.cmr_id,ctrl_id:s.ctrl_id,date:p.format("YYYY-MM-DD"),hour:Number(x.format("HH"))}},s.ctrl_id+s.cmr_id),h==="video"&&t.jsx(Os,{data:{cmr_id:s.cmr_id,ctrl_id:s.ctrl_id,date:p.format("YYYY-MM-DD"),hour:Number(x.format("HH"))}},s.ctrl_id+s.cmr_id)]}),t.jsx(cn,{disableSpacing:!0,sx:{padding:.5},children:t.jsx(Fs,{option:h,handleChangeOption:l})})]})},Es="/assets/Lead_Light_Icon-1d1b19d6.svg",zs="/assets/Green_Light_Icon-460ad5bb.svg",As=({ctrl_id:o})=>{const[n,r]=u.useState([]),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/pines_entradafinal/${o}`,{auth:{token:N.get("token")}})),s.current.on("list_pines_entrada",a=>{r(a)}),s.current.on("item_pin_entrada",a=>{r(i=>{if(a.activo==1){const d=i.filter(h=>h.pe_id!=a.pe_id);return d.unshift(a),d}return i})}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o]),t.jsx(t.Fragment,{children:t.jsxs(C,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:.5},children:[t.jsx($,{direction:"row",justifyContent:"space-between",alignItems:"center",children:t.jsx(ee,{variant:"h5",children:"Site"})}),t.jsx(w,{container:!0,rowSpacing:1,columnSpacing:2,children:n.map(a=>t.jsx(w,{item:!0,lg:6,xs:12,children:t.jsxs($,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:[t.jsx("div",{children:Ze(a.descripcion,20)}),a.estado==1?t.jsx("img",{src:zs,alt:"Green Indicator"}):t.jsx("img",{src:Es,alt:"Lead Indicator"})]})},a.ctrl_id+a.pe_id))})]})})},Ys=({ctrl_id:o})=>{const[n,r]=u.useState([]),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/list_energia/${o}`,{auth:{token:N.get("token")}})),s.current.on("list_energia",a=>{r(a)}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o]),t.jsx(t.Fragment,{children:t.jsx(et,{sx:{maxWidth:"100%",maxHeight:"100%"},children:t.jsx(rt,{component:at,variant:"outlined",children:t.jsxs(it,{"aria-label":"customized table",size:"small",children:[t.jsx(lt,{children:t.jsxs(se,{children:[t.jsx(j,{children:"N°"}),t.jsx(j,{children:"Amp (A)"}),t.jsx(j,{children:"Volt (V)"}),t.jsx(j,{children:"Pot (W)"}),t.jsx(j,{children:"kWh"})]})}),t.jsx(ct,{children:n.map((a,i)=>t.jsx(Ns,{index:i,dataEnergia:a},a.ctrl_id+a.me_id))})]})})})})},Ns=({dataEnergia:o,index:n})=>{const[r,s]=u.useState(o),a=u.useRef(null);return u.useEffect(()=>(a.current||(a.current=V(`${I}/energia/${o.ctrl_id}/${o.me_id}`,{auth:{token:N.get("token")}})),a.current.on("energia",i=>{s(i)}),()=>{a.current&&(a.current.disconnect(),a.current=null)}),[o.ctrl_id,o.me_id]),t.jsxs(se,{children:[t.jsx(j,{component:"th",scope:"row",children:n+1}),t.jsx(j,{children:r.amperaje}),t.jsx(j,{children:r.voltaje}),t.jsx(j,{children:r.potenciaw}),t.jsx(j,{children:r.potenciakwh})]})},Vs=({date:o,registerData:n,info:r})=>{const[s,a]=u.useState({configs:{chart:{height:350,type:"line",zoom:{enabled:!1},background:"#121212",id:"temperature-graph-chart",toolbar:{show:!1,export:{png:{filename:`grafica_temperatura_${encodeURIComponent(r.nodo)}_${encodeURIComponent(r.st_id)}_${encodeURIComponent(r.ubicacion)}_${encodeURIComponent(_(o,"YYYY-MM-DD").unix())}`},svg:{filename:`grafica_temperatura_${encodeURIComponent(r.nodo)}_${encodeURIComponent(r.st_id)}_${encodeURIComponent(r.ubicacion)}_${encodeURIComponent(_(o,"YYYY-MM-DD").unix())}`}}}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#1e1e1e","transparent"],opacity:.5}},xaxis:{type:"datetime",tickAmount:24,min:new Date(_(o,"YYYY-MM-DD").startOf("day").toISOString()).getTime(),max:new Date(_(o,"YYYY-MM-DD").add(1,"day").startOf("day").toISOString()).getTime(),labels:{formatter:function(l,p){return _(p).format("HH:mm")},style:{colors:"#8c8c8c",cssClass:"apexcharts-xaxis-label"}},title:{text:"Tiempo ( h )",style:{color:"#8c8c8c"}},tooltip:{enabled:!1,formatter:(l,p)=>_(l).format("HH:mm:ss")}},yaxis:{min:0,decimalsInFloat:2,title:{text:"Temperatura ( °C )",style:{color:"#8c8c8c"}},labels:{style:{colors:"#8c8c8c",cssClass:"apexcharts-yaxis-label"}}},tooltip:{enabled:!1,x:{show:!0,formatter(l,p){return _(l).format("HH:mm:ss")}},y:{}}}}),i=Xe(),d=i.palette.mode,[h,c]=u.useState([]);return u.useEffect(()=>{a(l=>{const p=d=="dark"?i.palette.text.secondary:i.palette.text.primary;return{configs:{...l.configs,chart:{...l.configs.chart,background:i.palette.background.default},grid:{row:{colors:[i.palette.background.paper,"transparent"],opacity:.5}},xaxis:{...l.configs.xaxis,labels:{...l.configs.xaxis?l.configs.xaxis.labels:{},style:{...l.configs.xaxis&&l.configs.xaxis.labels?l.configs.xaxis.labels.style:{},colors:p,cssClass:"apexcharts-xaxis-label"}},title:{...l.configs.xaxis?l.configs.xaxis.title:{},style:{color:p}}},yaxis:{...l.configs.yaxis,title:{text:"Temperatura ( °C )",style:{color:p}},labels:{style:{colors:p,cssClass:"apexcharts-yaxis-label"}}}}}})},[d]),u.useEffect(()=>{c([{name:"temperatura",data:n}]),a(l=>({configs:{...l.configs,xaxis:{...l.configs.xaxis,min:new Date(_(o,"YYYY-MM-DD").startOf("day").toISOString()).getTime(),max:new Date(_(o,"YYYY-MM-DD").add(1,"day").startOf("day").toISOString()).getTime()}}}))},[n]),u.useEffect(()=>{a(l=>({configs:{...l.configs,chart:{...l.configs.chart,toolbar:{show:!1,export:{png:{filename:`grafica_temperatura_${encodeURIComponent(r.nodo)}_${encodeURIComponent(r.st_id)}_${encodeURIComponent(r.ubicacion)}_${encodeURIComponent(_(o,"YYYY-MM-DD").unix())}`},svg:{filename:`grafica_temperatura_${encodeURIComponent(r.nodo)}_${encodeURIComponent(r.st_id)}_${encodeURIComponent(r.ubicacion)}_${encodeURIComponent(_(o,"YYYY-MM-DD").unix())}`}}}}}}))},[r,o]),t.jsx(t.Fragment,{children:t.jsx(yn,{options:s.configs,series:h,type:"line",width:"100%",height:500})})};function Hs(o,n){const r=ApexCharts.getChartByID(o);r&&(n==="png"?r.exports.exportToPng():n==="svg"&&r.exports.exportToSVG())}const Us=({open:o,setOpen:n,data:r})=>{const[s,a]=u.useState(_()),{nodo:i,ctrl_id:d,st_id:h,serie:c,ubicacion:l}=r,p=()=>{n(!1)},f=u.useRef(null);u.useEffect(()=>(o?f.current||(f.current=V(`${I}/sensor_temperatura/${d}/${h}`,{auth:{token:N.get("token")}})):f.current&&(f.current.disconnect(),f.current=null),()=>{f.current&&(f.current.disconnect(),f.current=null)}),[o,r]);const[x,{data:b,isSuccess:T}]=tn(),P=()=>{x({ctrl_id:d,st_id:h,date:s.format("YYYY-MM-DD")})};return t.jsx(t.Fragment,{children:t.jsxs(Cn,{fullWidth:!0,maxWidth:"lg",open:o,onClose:p,sx:{"& .MuiDialog-paper":{backgroundColor:"background.paper",backgroundImage:"inherit"}},children:[t.jsx(Dn,{children:t.jsx(ee,{component:"div",variant:"h5",children:"Gráfica Temperatura"})}),t.jsxs(wn,{children:[t.jsxs(Ln,{children:["Nodo: ",i," , Ubicacion: ",l," , Serie: ",c]}),t.jsxs($,{direction:"row",justifyContent:"end",alignItems:"center",spacing:2,marginBottom:2,children:[t.jsx(po,{value:s,onChange:v=>{a(v)},slotProps:{textField:{size:"small",sx:{maxWidth:150}}}}),t.jsx(J,{"aria-label":"get register",onClick:P,color:"primary",children:t.jsx(kn,{})})]}),t.jsx(Vs,{date:s.format("YYYY-MM-DD"),registerData:T&&b?b:[],info:r})]}),t.jsxs(_n,{children:[t.jsx(Et,{variant:"contained",onClick:()=>{Hs("temperature-graph-chart","png")},startIcon:t.jsx(vn,{}),children:"Descargar"}),t.jsx(Et,{variant:"contained",color:"error",onClick:p,children:"Cerrar"})]})]})})},Bs=({ctrl_id:o})=>t.jsx(t.Fragment,{children:t.jsx(C,{sx:{width:"100%",height:"100%"},children:t.jsx(et,{sx:{width:"100%",height:"100%"},children:t.jsx(Ws,{ctrl_id:Number(o)})})})}),Ws=({ctrl_id:o})=>{const{xregion:n,xnodo:r}=Je(),[s,a]=u.useState([]),i=u.useRef(null),[d,h]=u.useState(!1),[c,l]=u.useState(null),p=f=>{l(f),h(!0)};return u.useEffect(()=>(i.current||(i.current=V(`${I}/sensor_temperaturafinal/${o}`,{auth:{token:N.get("token")}})),i.current.on("temperaturafinal",f=>{a(f)}),()=>{i.current&&(i.current.disconnect(),i.current=null)}),[o]),t.jsxs(t.Fragment,{children:[t.jsx(w,{container:!0,rowSpacing:1,columnSpacing:2,children:s.length>0&&s.map(f=>t.jsx(w,{item:!0,lg:6,xs:12,children:t.jsxs($,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:[t.jsx(qs,{dataViewer:f}),t.jsx(J,{size:"small","aria-label":"Temperature Graph",color:"primary",onClick:()=>p({...f,nodo:r,region:n,ctrl_id:o}),children:t.jsx(Kn,{fontSize:"small"})})]})},f.ctrl_id+f.st_id))}),c&&d&&t.jsx(Us,{open:d,setOpen:h,data:c})]})},qs=({dataViewer:o})=>{const[n,r]=u.useState(o),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/sensor_temperatura/${o.ctrl_id}/${o.st_id}`,{auth:{token:N.get("token")}})),s.current.on("temperatura",a=>{r(a)}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o.ctrl_id,o.st_id]),t.jsx(t.Fragment,{children:t.jsxs($,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",sx:{flex:1},children:[t.jsx("span",{children:`${Ze(n.ubicacion,15)}:`}),t.jsxs(C,{children:[n.actual,"°C"]})]})})},Gs=({xnodoid:o,xregion:n})=>{const r=on(),s=ae(),[a,i]=u.useState("accesos"),d=h=>{i(h.target.value)};return t.jsx(oe,{title:t.jsxs(st,{size:"small",value:a,onChange:d,placeholder:"select-tipo-prioridad",inputProps:{id:"select-prioridad"},children:[t.jsx(Z,{value:"accesos",children:"Accesos"}),t.jsx(Z,{value:"alarmas",children:"Alarmas"})]}),secondary:t.jsx(Rn,{component:"button",underline:"none",onClick:()=>{s(nn(n)),s(sn(o)),s(rn(a=="accesos"?"acceso":"entrada")),s(an(_().startOf("day").format("YYYY-MM-DD HH:mm:ss"))),s(ln(_().endOf("day").format("YYYY-MM-DD HH:mm:ss"))),r("/logs")},children:"Ver Mas"}),children:t.jsxs(et,{sx:{maxWidth:"100%",maxHeight:"100%"},children:[a=="accesos"&&t.jsx(Qs,{xnodoid:o}),a=="alarmas"&&t.jsx(Ks,{xnodoid:o})]})})},Qs=({xnodoid:o})=>{const[n,r]=u.useState([]),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/registro_acceso/${o}`,{auth:{token:N.get("token")}})),s.current.on("list_registros_acceso",a=>{r(a)}),s.current.on("new_registro_acceso",a=>{r(i=>{const d=[a,...i];return d.length>5&&d.splice(5),d})}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o]),t.jsx(rt,{component:at,variant:"outlined",children:t.jsxs(it,{size:"small","aria-label":"a dense table",children:[t.jsx(lt,{children:t.jsxs(se,{children:[t.jsx(j,{children:"Contrata"}),t.jsx(j,{children:"Autorización"}),t.jsx(j,{children:"Fecha"})]})}),t.jsx(ct,{children:n.map((a,i)=>{const{autorizacion:d,fecha:h,contrata:c}=a,l=ro(h);return t.jsxs(se,{children:[t.jsx(j,{children:c??"sin-contrata"}),t.jsx(j,{children:d==1?"Autorizado":d==0?"Denegado":d}),t.jsx(j,{children:l})]},i)})})]})})},Ks=({xnodoid:o})=>{const[n,r]=u.useState([]),s=u.useRef(null);return u.useEffect(()=>(s.current||(s.current=V(`${I}/registro_entrada/${o}`,{auth:{token:N.get("token")}})),s.current.on("list_registros_entrada",a=>{r(a)}),s.current.on("new_registro_entrada",a=>{r(i=>{const d=[a,...i];return d.length>5&&d.splice(5),d})}),()=>{s.current&&(s.current.disconnect(),s.current=null)}),[o]),t.jsx(rt,{component:at,variant:"outlined",children:t.jsxs(it,{size:"small","aria-label":"a dense table",children:[t.jsx(lt,{children:t.jsxs(se,{children:[t.jsx(j,{children:"Pin"}),t.jsx(j,{children:"Estado"}),t.jsx(j,{children:"Fecha"})]})}),t.jsx(ct,{children:n.map((a,i)=>{const{pin:d,estado:h,fecha:c}=a,l=ro(c);return t.jsxs(se,{children:[t.jsx(j,{children:d}),t.jsx(j,{children:h==0?"Desactivado":h==1?"Activado":h}),t.jsx(j,{children:l})]},i)})})]})})};const Xs=({ctrl_id:o})=>{const n=u.useRef(null),[r,s]=u.useState([]),[a,i]=u.useState(""),d=r.find(c=>String(c.es_id)==a),h=c=>{i(c.target.value)};return u.useEffect(()=>{r.length>0&&a==""&&i(String(r[0].es_id)),r.find(l=>String(l.es_id)==a)==null&&(r.length>0?i(String(r[0].es_id)):i(""))},[r]),u.useEffect(()=>(n.current||(n.current=V(`${I}/pines_salida/${o}`,{auth:{token:N.get("token")}})),n.current.on("equipos_salida",c=>{s(c)}),n.current.on("list_pines_salida",(c,l)=>{s(p=>p.find(({es_id:x})=>x===l.es_id)===void 0?[l,...p].sort((b,T)=>b.es_id-T.es_id):p)}),()=>{n.current&&(n.current.disconnect(),n.current=null)}),[o]),t.jsx(t.Fragment,{children:t.jsx(oe,{title:"Control",secondary:t.jsx(Sn,{size:"small",sx:{maxWidth:200},children:r.length>0&&t.jsx(st,{id:"control-select",name:"control-select",value:a,onChange:h,size:"small",inputProps:{"aria-label":"Select Control"},children:r.map(c=>t.jsx(Z,{value:c.es_id,children:c.actuador},c.es_id))})}),children:t.jsx(C,{sx:{width:"100%",height:"100%",position:"relative"},children:d&&n.current&&t.jsx(Js,{ctrl_id:o,equipo_salida:d,socketRef:n.current},d.es_id)})})})},Js=({equipo_salida:o,socketRef:n})=>{const[r,s]=u.useState([]);return n.on("list_pines_salida",(a,i)=>{o.es_id==i.es_id&&s(a)}),u.useEffect(()=>{n.emit("initial_list_pines_salida",o.es_id)},[o.es_id]),t.jsx(t.Fragment,{children:t.jsx("div",{style:{height:"100%",width:"100%",position:"absolute",top:0,left:0},children:t.jsx("div",{className:"grid-container-pinsal-list",children:r.map(a=>t.jsx(Zs,{pinSalItem:a,socketRef:n},a.ps_id))})})})},Zs=({pinSalItem:o,socketRef:n})=>{const[r,s]=u.useState(o);return u.useEffect(()=>{n.emit("initial_item_pin_salida",o.es_id,o.ps_id),n.on("item_pin_salida",a=>{o.ps_id==a.ps_id&&s(a)}),n.on("response_orden_pin_salida",a=>{o.ps_id==a.ordenSend.pin})},[o.ps_id]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid-item-pinsal",children:[t.jsx("span",{children:`${Ze(r.descripcion,20)}:`}),t.jsxs("div",{className:"button-group",children:[t.jsx("button",{className:"button_item",onClick:()=>{const{ctrl_id:a,pin:i,es_id:d}=r;n.emit("orden_pin_salida",{action:0,ctrl_id:a,es_id:d,pin:i})},style:{backgroundColor:r.orden==0?"#d9d9d9":"transparent",color:r.orden==0?"black":"#1668dc"},children:"A"}),t.jsx("button",{className:"button_item",onClick:()=>{const{ctrl_id:a,pin:i,es_id:d}=r;n.emit("orden_pin_salida",{action:1,ctrl_id:a,es_id:d,pin:i})},style:{backgroundColor:r.orden==1?"#49aa19":"transparent",color:r.orden==1?"white":"#1668dc"},children:"ON"}),t.jsx("button",{className:"button_item",onClick:()=>{const{ctrl_id:a,pin:i,es_id:d}=r;n.emit("orden_pin_salida",{action:-1,ctrl_id:a,es_id:d,pin:i})},style:{backgroundColor:r.orden==-1?"#a61d24":"transparent",color:r.orden==-1?"white":"#1668dc"},children:"OFF"})]})]})})},yr=()=>{const{xregion:o,xnodo:n,xnodoid:r}=Je(),s=Fe(a=>a.multimediaSlice);return t.jsx(C,{sx:{width:"100%",height:"100%",padding:1,overflowY:"auto"},children:t.jsx(w,{container:!0,sx:{width:"100%",height:"100%",overflowY:"auto",margin:0,padding:0},rowGap:1,children:t.jsxs(t.Fragment,{children:[t.jsx(w,{item:!0,xs:12,sx:{height:s.isExpandMultimedia?"100%":"calc(66.7% - 4px)"},children:t.jsxs(w,{container:!0,columnSpacing:1,sx:{height:"100%"},children:[t.jsx(w,{item:!0,xs:s.isExpandMultimedia?12:8,children:t.jsx(Ls,{})}),!s.isExpandMultimedia&&t.jsx(w,{item:!0,xs:4,children:t.jsxs(w,{container:!0,sx:{width:"100%",height:"100%","& .MuiGrid-item":{padding:0,gap:0}},gap:1,children:[t.jsx(w,{item:!0,xs:12,children:t.jsx(oe,{title:"Temperaturas",children:t.jsx(Bs,{ctrl_id:Number(r)})})}),t.jsx(w,{item:!0,xs:12,children:t.jsx(oe,{title:"Energia",children:t.jsx(Ys,{ctrl_id:Number(r)})})}),t.jsx(w,{item:!0,xs:12,children:t.jsx(Xs,{ctrl_id:Number(r)})})]})})]})}),!s.isExpandMultimedia&&t.jsx(w,{item:!0,xs:12,sx:{height:"calc(33.3% - 4px)"},children:t.jsxs(w,{container:!0,columnSpacing:1,sx:{height:"100%"},children:[t.jsx(w,{item:!0,xs:4,children:t.jsx(Cs,{ctrl_id:Number(r)})}),t.jsx(w,{item:!0,xs:4,children:t.jsx(Gs,{xnodoid:r,xregion:o})}),t.jsx(w,{item:!0,xs:4,children:t.jsx(oe,{children:t.jsx(As,{ctrl_id:Number(r)})})})]})})]})},n+r)})};export{yr as NodoSite,yr as default};
