import{j as e,S as C,r as t,v as k,w as v,B as y,aV as x}from"./index-CbBpD3cn.js";const I=({...i})=>e.jsx(C,{...i,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("mask",{id:"mask0_2799_6894",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:e.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_2799_6894)",children:e.jsx("path",{d:"M17.525 15L15.35 13.75L18.85 11.15L21 12.4L17.525 15ZM12.8 11.95L15.4 9.97499L8.5 5.99999L7 8.59999L12.8 11.95ZM4 20V18H9V12.05L4.275 9.32499L7.775 3.27499L19.025 9.77499L12.925 14.325L11 13.225V20H4Z",fill:"currentColor"})})]})}),R=({q:i,cmr_id:l,ctrl_id:c,isContain:m})=>{const n=t.useRef(null),s=t.useRef(null),[L,u]=t.useState(!1),[j,f]=t.useState(!1),[S,h]=t.useState(!1),[p,d]=t.useState(!1),[w,g]=t.useState(null);return t.useEffect(()=>(s.current||(s.current=k(`${v}/stream/${c}/${l}/${i}`,{withCredentials:!0})),s.current.on("stream_flux",r=>{n.current&&r&&(n.current.src=r)}),s.current.on("stream_state",r=>{const{state:a,typeState:o}=r;o==="isConfiguring"&&u(a),o==="isError"&&h(a),o==="isLoading"&&f(a),o==="isSuccess"&&d(a)}),s.current.on("stream_error",r=>{g(r)}),()=>{s.current&&(s.current.disconnect(),s.current=null),n.current&&(n.current=null),u(!1),h(!1),f(!1),d(!1),g(null)}),[c,l,i]),e.jsx(e.Fragment,{children:e.jsxs(y,{sx:{width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:[L&&e.jsx(x,{children:"Configurando"}),j&&e.jsx(x,{children:"Cargando"}),S&&e.jsx("div",{children:w}),s.current&&p&&e.jsx("img",{ref:n,style:{width:"100%",height:"100%",position:"absolute",objectFit:m?"contain":void 0},alt:`Video Stream ${l}`})]})})};export{I as S,R as a};
