import{c as k,j as e,W as _,X as C,r as j,H as g,$ as q,a0 as B,I as H,a5 as L}from"./index-f0602fa3.js";import{I as b}from"./InputLabel-be077aea.js";import{B as O}from"./Button-3abb1eb0.js";const w=k(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var l={},A=C;Object.defineProperty(l,"__esModule",{value:!0});var P=l.default=void 0,T=A(_()),U=e;P=l.default=(0,T.default)((0,U.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var u={},V=C;Object.defineProperty(u,"__esModule",{value:!0});var I=u.default=void 0,W=V(_()),X=e;I=u.default=(0,W.default)((0,X.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const N=({supportedFormats:d,handleError:o,count:h,maxSize:p,onUpload:y,onDelete:S,files:a,setFiles:v,children:$,buttonStyle:F={}})=>{const c=j.useRef(null),z=()=>{c.current&&c.current.click()},M=n=>d.includes(n.type),D=n=>{const t=p*1024*1024;return n.size<=t},E=n=>{const t=n.target,s=t.files,i=[];if(s)if(a.length+s.length>h){o(`El número máximo de archivos permitidos es ${h}.`),t.value="";return}else{Array.from(s).forEach(r=>{if(M(r))if(D(r))i.push(r);else{o(`El archivo ${r.name} excede el tamaño máximo permitido ${p}MB.`);return}else{o(`El archivo ${r.name} no es un tipo de archivo permitido.`);return}});const m=i.filter(r=>!a.some(f=>{const x=f.name===r.name&&f.size===r.size;return x&&o(`El archivo ${r.name} ya existe.`),x}));m.length>0&&v(r=>[...r,...m])}t.value=""},R=n=>{const t=a.filter((s,i)=>i!==n);v(t),S(t)};return j.useEffect(()=>{a.length>0&&y(a)},[a]),e.jsx(e.Fragment,{children:e.jsxs(g,{spacing:2,children:[e.jsx(b,{htmlFor:"choose-files",onClick:n=>n.preventDefault(),children:$}),e.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:c,onChange:E,accept:d.join(" , ")}),e.jsx(O,{onClick:z,variant:"contained",startIcon:e.jsx(w,{}),sx:F,children:"Seleccionar"}),e.jsx(g,{children:a.length>0&&e.jsx(q,{children:a.map((n,t,s)=>{const{name:i}=n;return e.jsx(B,{divider:t<s.length-1,secondaryAction:e.jsx(H,{onClick:()=>R(t),edge:"end",children:e.jsx(I,{color:"error"})}),children:e.jsx(L,{primary:i,secondary:""})},t)})})})]})})};export{N as C,P as d};
