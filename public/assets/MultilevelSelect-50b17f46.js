import{r as C,bL as Vt,c4 as fe,bM as $t,bj as Dt,bn as Qe,bo as Te,c5 as Je,bQ as xt,i as Ae,g as Nt,a as Ot,e as ie,j as r,s as re,aI as K,m as de,aK as ht,aL as ft,aJ as gt,c6 as wt,b as Ft,u as Zt,bm as G,f as Bt,c as Ut,l as Ve,q as $e,h as te,a0 as le,a1 as be,a6 as ve,H as it,a5 as De,n as ue,c7 as Wt,ah as Lt,c8 as ge,c9 as lt,ca as ct,a8 as dt,$ as ce,W as Ht,X as Yt,B as $,_ as Xt,cb as qt,cc as Gt,cd as St,I as st,Z as kt,ce as Kt,cf as Qt,D as et}from"./index-29b147f0.js";import{C as Jt}from"./CameraIcon2-546edb4c.js";import{A as er}from"./AddCircle-87b42a3e.js";import{I as tr}from"./InputLabel-dc3ae974.js";import{T as rr}from"./TextField-f37d205b.js";import{B as ar}from"./Button-4ead8010.js";import{S as nr}from"./Send-282215e2.js";import"./Popover-672c384f.js";import"./FormControl-98925ad0.js";import"./Select-3cc5333b.js";const or={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},sr=or;function ir(e,t,n=(o,l)=>o===l){return e.length===t.length&&e.every((o,l)=>n(o,t[l]))}const lr=2;function Mt(e,t){return e-t}function bt(e,t){const{index:n}=e.reduce((o,l,c)=>{const f=Math.abs(t-l);return o===null||f<o.distance||f===o.distance?{distance:f,index:c}:o},null)??{};return n}function Me(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let o=0;o<n.changedTouches.length;o+=1){const l=n.changedTouches[o];if(l.identifier===t.current)return{x:l.clientX,y:l.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function ze(e,t,n){return(e-t)*100/(n-t)}function cr(e,t,n){return(n-t)*e+t}function dr(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),o=n[0].split(".")[1];return(o?o.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function ur(e,t,n){const o=Math.round((e-n)/t)*t+n;return Number(o.toFixed(dr(t)))}function vt({values:e,newValue:t,index:n}){const o=e.slice();return o[n]=t,o.sort(Mt)}function Ie({sliderRef:e,activeIndex:t,setActive:n}){var l,c,f;const o=Te(e.current);(!((l=e.current)!=null&&l.contains(o.activeElement))||Number((c=o==null?void 0:o.activeElement)==null?void 0:c.getAttribute("data-index"))!==t)&&((f=e.current)==null||f.querySelector(`[type="range"][data-index="${t}"]`).focus()),n&&n(t)}function _e(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?ir(e,t):!1}const pr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},mr=e=>e;let Re;function yt(){return Re===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Re=CSS.supports("touch-action","none"):Re=!0),Re}function xr(e){const{"aria-labelledby":t,defaultValue:n,disabled:o=!1,disableSwap:l=!1,isRtl:c=!1,marks:f=!1,max:d=100,min:p=0,name:u,onChange:y,onChangeCommitted:x,orientation:h="horizontal",rootRef:w,scale:S=mr,step:D=1,shiftStep:pe=10,tabIndex:ye,value:Ne}=e,V=C.useRef(void 0),[Z,ae]=C.useState(-1),[mt,ne]=C.useState(-1),[Ce,je]=C.useState(!1),oe=C.useRef(0),[B,U]=Vt({controlled:Ne,default:n??p,name:"Slider"}),b=y&&((a,s,i)=>{const g=a.nativeEvent||a,L=new g.constructor(g.type,g);Object.defineProperty(L,"target",{writable:!0,value:{value:s,name:u}}),y(L,s,i)}),v=Array.isArray(B);let _=v?B.slice().sort(Mt):[B];_=_.map(a=>a==null?p:fe(a,p,d));const Y=f===!0&&D!==null?[...Array(Math.floor((d-p)/D)+1)].map((a,s)=>({value:p+D*s})):f||[],N=Y.map(a=>a.value),[Q,O]=C.useState(-1),A=C.useRef(null),R=$t(w,A),se=a=>s=>{var g;const i=Number(s.currentTarget.getAttribute("data-index"));xt(s.target)&&O(i),ne(i),(g=a==null?void 0:a.onFocus)==null||g.call(a,s)},Oe=a=>s=>{var i;xt(s.target)||O(-1),ne(-1),(i=a==null?void 0:a.onBlur)==null||i.call(a,s)},we=(a,s)=>{const i=Number(a.currentTarget.getAttribute("data-index")),g=_[i],L=N.indexOf(g);let m=s;if(Y&&D==null){const T=N[N.length-1];m>T?m=T:m<N[0]?m=N[0]:m=m<g?N[L-1]:N[L+1]}if(m=fe(m,p,d),v){l&&(m=fe(m,_[i-1]||-1/0,_[i+1]||1/0));const T=m;m=vt({values:_,newValue:m,index:i});let z=i;l||(z=m.indexOf(T)),Ie({sliderRef:A,activeIndex:z})}U(m),O(i),b&&!_e(m,B)&&b(a,m,i),x&&x(a,m)},Fe=a=>s=>{var i;if(D!==null){const g=Number(s.currentTarget.getAttribute("data-index")),L=_[g];let m=null;(s.key==="ArrowLeft"||s.key==="ArrowDown")&&s.shiftKey||s.key==="PageDown"?m=Math.max(L-pe,p):((s.key==="ArrowRight"||s.key==="ArrowUp")&&s.shiftKey||s.key==="PageUp")&&(m=Math.min(L+pe,d)),m!==null&&(we(s,m),s.preventDefault())}(i=a==null?void 0:a.onKeyDown)==null||i.call(a,s)};Dt(()=>{var a;o&&A.current.contains(document.activeElement)&&((a=document.activeElement)==null||a.blur())},[o]),o&&Z!==-1&&ae(-1),o&&Q!==-1&&O(-1);const Ze=a=>s=>{var i;(i=a.onChange)==null||i.call(a,s),we(s,s.target.valueAsNumber)},me=C.useRef(void 0);let W=h;c&&h==="horizontal"&&(W+="-reverse");const J=({finger:a,move:s=!1})=>{const{current:i}=A,{width:g,height:L,bottom:m,left:T}=i.getBoundingClientRect();let z;W.indexOf("vertical")===0?z=(m-a.y)/L:z=(a.x-T)/g,W.indexOf("-reverse")!==-1&&(z=1-z);let M;if(M=cr(z,p,d),D)M=ur(M,D,p);else{const he=bt(N,M);M=N[he]}M=fe(M,p,d);let F=0;if(v){s?F=me.current:F=bt(_,M),l&&(M=fe(M,_[F-1]||-1/0,_[F+1]||1/0));const he=M;M=vt({values:_,newValue:M,index:F}),l&&s||(F=M.indexOf(he),me.current=F)}return{newValue:M,activeIndex:F}},X=Qe(a=>{const s=Me(a,V);if(!s)return;if(oe.current+=1,a.type==="mousemove"&&a.buttons===0){q(a);return}const{newValue:i,activeIndex:g}=J({finger:s,move:!0});Ie({sliderRef:A,activeIndex:g,setActive:ae}),U(i),!Ce&&oe.current>lr&&je(!0),b&&!_e(i,B)&&b(a,i,g)}),q=Qe(a=>{const s=Me(a,V);if(je(!1),!s)return;const{newValue:i}=J({finger:s,move:!0});ae(-1),a.type==="touchend"&&ne(-1),x&&x(a,i),V.current=void 0,k()}),ee=Qe(a=>{if(o)return;yt()||a.preventDefault();const s=a.changedTouches[0];s!=null&&(V.current=s.identifier);const i=Me(a,V);if(i!==!1){const{newValue:L,activeIndex:m}=J({finger:i});Ie({sliderRef:A,activeIndex:m,setActive:ae}),U(L),b&&!_e(L,B)&&b(a,L,m)}oe.current=0;const g=Te(A.current);g.addEventListener("touchmove",X,{passive:!0}),g.addEventListener("touchend",q,{passive:!0})}),k=C.useCallback(()=>{const a=Te(A.current);a.removeEventListener("mousemove",X),a.removeEventListener("mouseup",q),a.removeEventListener("touchmove",X),a.removeEventListener("touchend",q)},[q,X]);C.useEffect(()=>{const{current:a}=A;return a.addEventListener("touchstart",ee,{passive:yt()}),()=>{a.removeEventListener("touchstart",ee),k()}},[k,ee]),C.useEffect(()=>{o&&k()},[o,k]);const Be=a=>s=>{var L;if((L=a.onMouseDown)==null||L.call(a,s),o||s.defaultPrevented||s.button!==0)return;s.preventDefault();const i=Me(s,V);if(i!==!1){const{newValue:m,activeIndex:T}=J({finger:i});Ie({sliderRef:A,activeIndex:T,setActive:ae}),U(m),b&&!_e(m,B)&&b(s,m,T)}oe.current=0;const g=Te(A.current);g.addEventListener("mousemove",X,{passive:!0}),g.addEventListener("mouseup",q)},Le=ze(v?_[0]:p,p,d),Ue=ze(_[_.length-1],p,d)-Le,P=(a={})=>{const s=Je(a),i={onMouseDown:Be(s||{})},g={...s,...i};return{...a,ref:R,...g}},xe=a=>s=>{var g;(g=a.onMouseOver)==null||g.call(a,s);const i=Number(s.currentTarget.getAttribute("data-index"));ne(i)},Se=a=>s=>{var i;(i=a.onMouseLeave)==null||i.call(a,s),ne(-1)};return{active:Z,axis:W,axisProps:pr,dragging:Ce,focusedThumbIndex:Q,getHiddenInputProps:(a={})=>{const s=Je(a),i={onChange:Ze(s||{}),onFocus:se(s||{}),onBlur:Oe(s||{}),onKeyDown:Fe(s||{})},g={...s,...i};return{tabIndex:ye,"aria-labelledby":t,"aria-orientation":h,"aria-valuemax":S(d),"aria-valuemin":S(p),name:u,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:o,...a,...g,style:{...sr,direction:c?"rtl":"ltr",width:"100%",height:"100%"}}},getRootProps:P,getThumbProps:(a={})=>{const s=Je(a),i={onMouseOver:xe(s||{}),onMouseLeave:Se(s||{})};return{...a,...s,...i}},marks:Y,open:mt,range:v,rootRef:R,trackLeap:Ue,trackOffset:Le,values:_,getThumbStyle:a=>({pointerEvents:Z!==-1&&Z!==a?"none":void 0})}}const hr=e=>!e||!Ae(e),fr=hr;function gr(e){return Ot("MuiSlider",e)}const br=Nt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),E=br,vr=e=>{const{open:t}=e;return{offset:ie(t&&E.valueLabelOpen),circle:E.valueLabelCircle,label:E.valueLabelLabel}};function yr(e){const{children:t,className:n,value:o}=e,l=vr(e);return t?C.cloneElement(t,{className:ie(t.props.className)},r.jsxs(C.Fragment,{children:[t.props.children,r.jsx("span",{className:ie(l.offset,n),"aria-hidden":!0,children:r.jsx("span",{className:l.circle,children:r.jsx("span",{className:l.label,children:o})})})]})):null}function Ct(e){return e}const Cr=re("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${K(n.color)}`],n.size!=="medium"&&t[`size${K(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(de(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${E.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${E.dragging}`]:{[`& .${E.thumb}, & .${E.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),jr=re("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),wr=re("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(de(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:ht(e.palette[t].main,.62),borderColor:ht(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:ft(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:ft(e.palette[t].main,.5)})}}}))]}))),Lr=re("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${K(n.color)}`],n.size!=="medium"&&t[`thumbSize${K(n.size)}`]]}})(de(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${E.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{[`&:hover, &.${E.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${gt(e.palette[t].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${E.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${gt(e.palette[t].main,.16)}`}}}}))]}))),Sr=re(yr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(de(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${E.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${E.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),kr=re("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>wt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(de(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Mr=re("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>wt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(de(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Ir=e=>{const{disabled:t,dragging:n,marked:o,orientation:l,track:c,classes:f,color:d,size:p}=e,u={root:["root",t&&"disabled",n&&"dragging",o&&"marked",l==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",d&&`color${K(d)}`,p&&`size${K(p)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",p&&`thumbSize${K(p)}`,d&&`thumbColor${K(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Bt(u,gr,f)},_r=({children:e})=>e,Rr=C.forwardRef(function(t,n){const o=Ft({props:t,name:"MuiSlider"}),l=Zt(),{"aria-label":c,"aria-valuetext":f,"aria-labelledby":d,component:p="span",components:u={},componentsProps:y={},color:x="primary",classes:h,className:w,disableSwap:S=!1,disabled:D=!1,getAriaLabel:pe,getAriaValueText:ye,marks:Ne=!1,max:V=100,min:Z=0,name:ae,onChange:mt,onChangeCommitted:ne,orientation:Ce="horizontal",shiftStep:je=10,size:oe="medium",step:B=1,scale:U=Ct,slotProps:b,slots:v,tabIndex:_,track:Y="normal",value:N,valueLabelDisplay:Q="off",valueLabelFormat:O=Ct,...A}=o,R={...o,isRtl:l,max:V,min:Z,classes:h,disabled:D,disableSwap:S,orientation:Ce,marks:Ne,color:x,size:oe,step:B,shiftStep:je,scale:U,track:Y,valueLabelDisplay:Q,valueLabelFormat:O},{axisProps:se,getRootProps:Oe,getHiddenInputProps:we,getThumbProps:Fe,open:Ze,active:me,axis:W,focusedThumbIndex:J,range:X,dragging:q,marks:ee,values:k,trackOffset:Be,trackLeap:Le,getThumbStyle:Ue}=xr({...R,rootRef:n});R.marked=ee.length>0&&ee.some(j=>j.label),R.dragging=q,R.focusedThumbIndex=J;const P=Ir(R),xe=(v==null?void 0:v.root)??u.Root??Cr,Se=(v==null?void 0:v.rail)??u.Rail??jr,We=(v==null?void 0:v.track)??u.Track??wr,He=(v==null?void 0:v.thumb)??u.Thumb??Lr,Ye=(v==null?void 0:v.valueLabel)??u.ValueLabel??Sr,a=(v==null?void 0:v.mark)??u.Mark??kr,s=(v==null?void 0:v.markLabel)??u.MarkLabel??Mr,i=(v==null?void 0:v.input)??u.Input??"input",g=(b==null?void 0:b.root)??y.root,L=(b==null?void 0:b.rail)??y.rail,m=(b==null?void 0:b.track)??y.track,T=(b==null?void 0:b.thumb)??y.thumb,z=(b==null?void 0:b.valueLabel)??y.valueLabel,M=(b==null?void 0:b.mark)??y.mark,F=(b==null?void 0:b.markLabel)??y.markLabel,he=(b==null?void 0:b.input)??y.input,Pt=G({elementType:xe,getSlotProps:Oe,externalSlotProps:g,externalForwardedProps:A,additionalProps:{...fr(xe)&&{as:p}},ownerState:{...R,...g==null?void 0:g.ownerState},className:[P.root,w]}),Tt=G({elementType:Se,externalSlotProps:L,ownerState:R,className:P.rail}),At=G({elementType:We,externalSlotProps:m,additionalProps:{style:{...se[W].offset(Be),...se[W].leap(Le)}},ownerState:{...R,...m==null?void 0:m.ownerState},className:P.track}),Xe=G({elementType:He,getSlotProps:Fe,externalSlotProps:T,ownerState:{...R,...T==null?void 0:T.ownerState},className:P.thumb}),zt=G({elementType:Ye,externalSlotProps:z,ownerState:{...R,...z==null?void 0:z.ownerState},className:P.valueLabel}),qe=G({elementType:a,externalSlotProps:M,ownerState:R,className:P.mark}),Ge=G({elementType:s,externalSlotProps:F,ownerState:R,className:P.markLabel}),Et=G({elementType:i,getSlotProps:we,externalSlotProps:he,ownerState:R});return r.jsxs(xe,{...Pt,children:[r.jsx(Se,{...Tt}),r.jsx(We,{...At}),ee.filter(j=>j.value>=Z&&j.value<=V).map((j,I)=>{const Ke=ze(j.value,Z,V),ke=se[W].offset(Ke);let H;return Y===!1?H=k.includes(j.value):H=Y==="normal"&&(X?j.value>=k[0]&&j.value<=k[k.length-1]:j.value<=k[0])||Y==="inverted"&&(X?j.value<=k[0]||j.value>=k[k.length-1]:j.value>=k[0]),r.jsxs(C.Fragment,{children:[r.jsx(a,{"data-index":I,...qe,...!Ae(a)&&{markActive:H},style:{...ke,...qe.style},className:ie(qe.className,H&&P.markActive)}),j.label!=null?r.jsx(s,{"aria-hidden":!0,"data-index":I,...Ge,...!Ae(s)&&{markLabelActive:H},style:{...ke,...Ge.style},className:ie(P.markLabel,Ge.className,H&&P.markLabelActive),children:j.label}):null]},I)}),k.map((j,I)=>{const Ke=ze(j,Z,V),ke=se[W].offset(Ke),H=Q==="off"?_r:Ye;return r.jsx(H,{...!Ae(H)&&{valueLabelFormat:O,valueLabelDisplay:Q,value:typeof O=="function"?O(U(j),I):O,index:I,open:Ze===I||me===I||Q==="on",disabled:D},...zt,children:r.jsx(He,{"data-index":I,...Xe,className:ie(P.thumb,Xe.className,me===I&&P.active,J===I&&P.focusVisible),style:{...ke,...Ue(I),...Xe.style},children:r.jsx(i,{"data-index":I,"aria-label":pe?pe(I):c,"aria-valuenow":U(j),"aria-labelledby":d,"aria-valuetext":ye?ye(U(j),I):f,value:k[I],...Et})})},I)})]})}),Pr=Rr,Tr=Ut(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle"),Ar=({isSelected:e})=>{const t=Ve();return r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M13.5 7L17 10.5",stroke:e?t.palette.primary.main:t.palette.text.primary,strokeLinecap:"round"}),r.jsx("path",{d:"M7 13.5L10.5 17",stroke:e?t.palette.primary.main:t.palette.text.primary,strokeLinecap:"round"}),r.jsx("path",{d:"M10.5 7L7 10.5",stroke:e?t.palette.primary.main:t.palette.text.primary,strokeLinecap:"round"}),r.jsx("path",{d:"M17 13.5L13.5 17",stroke:e?t.palette.primary.main:t.palette.text.primary,strokeLinecap:"round"}),r.jsx("path",{d:"M12 7.5C13.1046 7.5 14 6.60457 14 5.5C14 4.39543 13.1046 3.5 12 3.5C10.8954 3.5 10 4.39543 10 5.5C10 6.60457 10.8954 7.5 12 7.5Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M12 20.5C13.1046 20.5 14 19.6046 14 18.5C14 17.3954 13.1046 16.5 12 16.5C10.8954 16.5 10 17.3954 10 18.5C10 19.6046 10.8954 20.5 12 20.5Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M5.5 14C6.60457 14 7.5 13.1046 7.5 12C7.5 10.8954 6.60457 10 5.5 10C4.39543 10 3.5 10.8954 3.5 12C3.5 13.1046 4.39543 14 5.5 14Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M18.5 14C19.6046 14 20.5 13.1046 20.5 12C20.5 10.8954 19.6046 10 18.5 10C17.3954 10 16.5 10.8954 16.5 12C16.5 13.1046 17.3954 14 18.5 14Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M12 6C12.2761 6 12.5 5.77614 12.5 5.5C12.5 5.22386 12.2761 5 12 5C11.7239 5 11.5 5.22386 11.5 5.5C11.5 5.77614 11.7239 6 12 6Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M12 19C12.2761 19 12.5 18.7761 12.5 18.5C12.5 18.2239 12.2761 18 12 18C11.7239 18 11.5 18.2239 11.5 18.5C11.5 18.7761 11.7239 19 12 19Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M5.5 12.5C5.77614 12.5 6 12.2761 6 12C6 11.7239 5.77614 11.5 5.5 11.5C5.22386 11.5 5 11.7239 5 12C5 12.2761 5.22386 12.5 5.5 12.5Z",stroke:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M18.5 12.5C18.7761 12.5 19 12.2761 19 12C19 11.7239 18.7761 11.5 18.5 11.5C18.2239 11.5 18 11.7239 18 12C18 12.2761 18.2239 12.5 18.5 12.5Z",stroke:e?t.palette.primary.main:t.palette.text.primary})]})},zr=({isSelected:e})=>{const t=Ve();return r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("g",{clipPath:"url(#clip0_505_2)",children:r.jsx("path",{d:"M10 2C10.552 2 11 2.448 11 3V7C11 7.552 10.552 8 10 8H8V10H13V9C13 8.448 13.448 8 14 8H20C20.552 8 21 8.448 21 9V13C21 13.552 20.552 14 20 14H14C13.448 14 13 13.552 13 13V12H8V18H13V17C13 16.448 13.448 16 14 16H20C20.552 16 21 16.448 21 17V21C21 21.552 20.552 22 20 22H14C13.448 22 13 21.552 13 21V20H7C6.448 20 6 19.552 6 19V8H4C3.448 8 3 7.552 3 7V3C3 2.448 3.448 2 4 2H10ZM19 18H15V20H19V18ZM19 10H15V12H19V10ZM9 4H5V6H9V4Z",fill:e?t.palette.primary.main:t.palette.text.primary})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_505_2",children:r.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})},Er=({isSelected:e})=>{const t=Ve();return r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsxs("g",{clipPath:"url(#clip0_508_2)",children:[r.jsx("path",{d:"M14.8284 6.34313L16.2426 4.92892L12 0.686279L7.75735 4.92892L9.17157 6.34313L12 3.51471L14.8284 6.34313Z",fill:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M4.92892 16.2426L6.34313 14.8284L3.51471 12L6.34313 9.17156L4.92892 7.75735L0.686279 12L4.92892 16.2426Z",fill:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M7.75735 19.0711L12 23.3137L16.2426 19.0711L14.8284 17.6568L12 20.4853L9.17157 17.6568L7.75735 19.0711Z",fill:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{d:"M17.6568 9.17156L20.4853 12L17.6568 14.8284L19.0711 16.2426L23.3137 12L19.0711 7.75735L17.6568 9.17156Z",fill:e?t.palette.primary.main:t.palette.text.primary}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8ZM12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10Z",fill:e?t.palette.primary.main:t.palette.text.primary})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_508_2",children:r.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})},Vr="text.primary",jt="primary.main",ut=({item:e,level:t=1})=>{const n=Ve(),o=!1,l=e.icon,c=r.jsx(l,{isSelected:o}),f=$e(),d=te(y=>y.stream),p=te(y=>y.vmsSlice),u=y=>{if(d.isSelected&&y.detail==2&&e.data){const{ctrl_id:x,descripcion:h,cmr_id:w,tc_id:S}=e.data[0];typeof d.gridItemIndex=="number"&&d.gridItemIndex in p.streams&&(f(Wt({index:d.gridItemIndex,newStream:{ctrl_id:x,descripcion:h,cmr_id:w,tc_id:S}})),f(Lt({ctrl_id:x,cmr_id:w,tc_id:S,descripcion:h})))}};return r.jsx(le,{disablePadding:!0,children:r.jsx(be,{onClick:u,sx:{zIndex:1201,pl:t===2?7:null,"&:hover":{bgcolor:"primary.lighter"},"&.Mui-selected":{bgcolor:"primary.lighter",borderRight:`2px solid ${n.palette.primary.main}`,color:jt,"&:hover":{color:jt,bgcolor:"primary.lighter"}}},children:r.jsx(ve,{inset:!0,primary:r.jsx(r.Fragment,{children:r.jsxs(it,{direction:"row",spacing:.5,children:[c&&r.jsx(De,{sx:{minWidth:30},children:c}),r.jsx(ue,{variant:"h6",sx:{color:Vr},children:e.title})]})})})})})},tt="text.primary",rt="primary.main",It=({item:e,level:t,handleOnContextMenu:n})=>{var p;const[o,l]=C.useState(void 0),c=u=>{l(u===o?void 0:u)},f=e.icon,d=$e();return r.jsxs(r.Fragment,{children:[r.jsx(le,{disablePadding:!0,children:r.jsxs(be,{sx:{zIndex:1201,pl:t==1?3:t==2?7:null,"&:hover":{bgcolor:"primary.lighter"}},onClick:()=>{d(ge()),c(e.title)},onContextMenu:u=>{d(ge()),n(u,e)},children:[r.jsx(ve,{inset:!0,primary:r.jsxs(it,{direction:"row",spacing:1,alignItems:"center",children:[e.icon&&r.jsx(f,{isSelected:!!o}),r.jsx(ue,{variant:"h6",sx:{color:o?rt:tt},children:e.title})]})}),o===e.title?r.jsx(lt,{sx:{color:o?rt:tt}}):r.jsx(ct,{sx:{color:o?rt:tt}})]})}),r.jsx(dt,{in:o===e.title,timeout:"auto",unmountOnExit:!0,children:r.jsx(ce,{component:"div",disablePadding:!0,sx:{bgcolor:"secondary.lighter"},children:(p=e.children)==null?void 0:p.map(u=>{switch(u.type){case"item":return r.jsx(ut,{item:u,level:2},u.id);case"collapse":return r.jsx(It,{item:u,level:1,handleOnContextMenu:n},u.id)}})})})]})};var pt={},$r=Yt;Object.defineProperty(pt,"__esModule",{value:!0});var _t=pt.default=void 0,Dr=$r(Ht()),Nr=r;_t=pt.default=(0,Dr.default)((0,Nr.jsx)("path",{d:"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5M6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5m-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5m7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5m0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5M10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5M14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5m-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1m4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5"}),"BlurOnRounded");const Or=({contextMenuRef:e,isToogled:t,positionX:n,positionY:o,children:l})=>{const c=te(u=>u.menuCam),f=te(u=>u.stream),d=$e(),p=()=>{const u=c.data,y=f.gridItemIndex;if(u&&u.length>0&&typeof y=="number"){d(qt({fromIndex:y,newStreams:u}));const{ctrl_id:x,cmr_id:h,tc_id:w,descripcion:S}=u[0];d(Lt({ctrl_id:x,cmr_id:h,tc_id:w,descripcion:S}))}};return r.jsxs($,{sx:{zIndex:1300,top:`${o+"px"}`,left:`${n+15+"px"}`,visibility:t?"visible":"hidden",position:"fixed"},ref:e,children:[r.jsx(Xt,{children:r.jsx(ce,{children:r.jsx(le,{disablePadding:!0,children:r.jsxs(be,{onClick:()=>{p()},children:[r.jsx(De,{children:r.jsx(_t,{})}),r.jsx(ve,{primary:`Mostrar ${c.title}`})]})})})}),l]})},at="text.primary",nt="primary.main",Fr=({item:e})=>{var y;const[t,n]=C.useState(void 0),o=x=>{n(x===t?void 0:x)},l=e.icon,c=r.jsx(l,{isSelected:t===e.title}),f=C.useRef(null),d=$e(),p=te(x=>x.menuCam),u=(x,h)=>{if(x.preventDefault(),f.current){let w=x.clientX,S=x.clientY;h.data&&d(Gt({position:{x:w,y:S},toogled:!0,title:h.title,data:h.data}))}};return C.useEffect(()=>{const x=h=>{f.current&&(f.current.contains(h.target)||d(ge()))};return document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}}),r.jsxs(r.Fragment,{children:[r.jsx(le,{disablePadding:!0,children:r.jsxs(be,{sx:{pl:4,"&:hover":{bgcolor:"primary.lighter"}},onClick:()=>{d(ge()),o(e.title)},onContextMenu:x=>{d(ge()),u(x,e)},children:[r.jsx(De,{sx:{minWidth:40},children:c}),r.jsx(ve,{primary:r.jsx(ue,{variant:"h6",sx:{color:t?nt:at},children:e.title})}),t===e.title?r.jsx(lt,{sx:{color:t?nt:at}}):r.jsx(ct,{sx:{color:t?nt:at}})]})}),r.jsx(dt,{in:t===e.title,timeout:"auto",unmountOnExit:!0,children:r.jsx(ce,{component:"div",disablePadding:!0,sx:{bgcolor:"secondary.100"},children:(y=e.children)==null?void 0:y.map(x=>{switch(x.type){case"item":return r.jsx(ut,{item:x},x.id);case"collapse":return r.jsx(It,{item:x,handleOnContextMenu:u},x.id)}})})}),r.jsx(Or,{contextMenuRef:f,isToogled:p.toogled,positionX:p.position.x,positionY:p.position.y})]})},Zr=({item:e})=>{var n;const t=(n=e.children)==null?void 0:n.map(o=>{switch(o.type){case"collapse":return r.jsx(Fr,{item:o,level:1},o.id);case"item":return r.jsx(ut,{item:o,level:1},o.id);default:return r.jsx(ue,{variant:"h6",color:"error",align:"center",children:"Fix - Group Collapse or Items"},o.id)}});return r.jsx(r.Fragment,{children:t})},Pe={Zoom:["ZoomWide","ZoomTele"],Focus:["FocusNear","FocusFar"],Iris:["IrisLarge","IrisSmall"]},Br=({children:e,action:t,cmr_id:n,ctrl_id:o,velocity:l})=>{const[c]=St(),f=p=>{c({movement:p,action:"start",velocity:l,cmr_id:n,ctrl_id:o})},d=p=>{c({movement:p,action:"stop",velocity:l,cmr_id:n,ctrl_id:o})};return r.jsx(r.Fragment,{children:r.jsxs($,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 16px",gap:1,alignSelf:"stretch"},children:[r.jsx(st,{color:"primary",onMouseDown:()=>f(Pe[t][0]),onMouseUp:()=>d(Pe[t][0]),children:r.jsx(Tr,{sx:{fontSize:"24px"}})}),r.jsx($,{sx:{width:"100%",textAlign:"center"},children:e}),r.jsx(st,{color:"primary",onMouseDown:()=>f(Pe[t][1]),onMouseUp:()=>d(Pe[t][1]),children:r.jsx(er,{sx:{fontSize:"24px"}})})]})})};var Ee=(e=>(e[e.Bullet=1]="Bullet",e[e.Domo=2]="Domo",e[e.DomoPTZ=3]="DomoPTZ",e))(Ee||{});const ot=["Right","RightDown","Down","LeftDown","Left","LeftUp","Up","RightUp"],Rt=[{value:.125,label:"1"},{value:.25,label:"2"},{value:.375,label:"3"},{value:.5,label:"4"},{value:.625,label:"5"},{value:.75,label:"6"},{value:.875,label:"7"},{value:1,label:"8"}];function Ur(e){return Rt.findIndex(t=>t.value===e)+1}const Wr=[{name:"Rigth",sector:{d:"M 92.38795325112868,-38.268343236508976 A 100,100 0 0 1 92.38795325112868,38.268343236508976 L 41.5745789630079,17.22075445642904 A 45,45 0 0 0 41.5745789630079,-17.22075445642904 L 92.38795325112868,-38.268343236508976"},icon:{translate:"translate(64.5, -8)",rotate:"rotate(0, 8, 8)",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}},{name:"RightDown",sector:{d:"M 92.38795325112868,38.268343236508976 A 100,100 0 0 1 38.26834323650898,92.38795325112868 L 17.22075445642904,41.5745789630079 A 45,45 0 0 0 41.5745789630079,17.22075445642904 L 92.38795325112868,38.268343236508976"},icon:{translate:"translate(43.2652416360247,43.2652416360247 )",rotate:"rotate(45, 8, 8)",d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}},{name:"Down",sector:{d:"M 38.26834323650898,92.38795325112868 A 100,100 0 0 1 -38.268343236508976,92.38795325112868 L -17.220754456429038,41.5745789630079 A 45,45 0 0 0 17.22075445642904,41.5745789630079 L 38.26834323650898,92.38795325112868"},icon:{translate:"translate(-8,64.5 )",rotate:"rotate(90, 8, 8)",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}},{name:"LeftDown",sector:{d:"M -38.268343236508976,92.38795325112868 A 100,100 0 0 1 -92.38795325112868,38.26834323650899 L -41.5745789630079,17.220754456429045 A 45,45 0 0 0 -17.220754456429038,41.5745789630079 L -38.268343236508976,92.38795325112868"},icon:{translate:"translate(-59.26524163602469, 43.26524163602469 )",rotate:"rotate(135, 8, 8)",d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}},{name:"Left",sector:{d:"M -92.38795325112868,38.26834323650899 A 100,100 0 0 1 -92.38795325112869,-38.268343236508926 L -41.574578963007916,-17.220754456429017 A 45,45 0 0 0 -41.5745789630079,17.220754456429045 L -92.38795325112868,38.26834323650899"},icon:{translate:"translate(-80.5, -8 )",rotate:"rotate(180, 8, 8)",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}},{name:"LeftUp",sector:{d:"M -92.38795325112869,-38.268343236508926 A 100,100 0 0 1 -38.26834323650895,-92.38795325112868 L -17.220754456429027,-41.57457896300791 A 45,45 0 0 0 -41.574578963007916,-17.220754456429017 L -92.38795325112869,-38.268343236508926"},icon:{translate:"translate(-59.26524163602469, -59.26524163602469)",rotate:"rotate(225, 8, 8)",d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}},{name:"Up",sector:{d:"M -38.26834323650898,-92.38795325112868 A 100,100 0 0 1 38.268343236508976,-92.38795325112868 L 17.220754456429038,-41.5745789630079 A 45,45 0 0 0 -17.22075445642904,-41.5745789630079 L -38.26834323650898,-92.38795325112868"},icon:{translate:"translate(-8, -80.5)",rotate:"rotate(270, 8, 8)",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}},{name:"RightUp",sector:{d:"M 38.26834323650898,-92.38795325112868 A 100,100 0 0 1 92.38795325112868,-38.268343236508976 L 41.5745789630079,-17.22075445642904 A 45,45 0 0 0 17.22075445642904,-41.5745789630079 L 38.26834323650898,-92.38795325112868"},icon:{translate:"translate(43.2652416360247, -59.2652416360247)",rotate:"rotate(315, 8, 8)",d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}}],Hr=()=>{const e=te(h=>h.stream),[t,n]=C.useState(null),[o,l]=C.useState(.5),[c]=St();function f(h){l(h)}const d=h=>{n(h)},p=()=>{t!==null&&e.ctrl_id!==null&&e.cmr_id!==null&&c({action:"stop",movement:ot[t],ctrl_id:e.ctrl_id,cmr_id:e.cmr_id,velocity:o}),n(null)},u=()=>{t!==null&&e.ctrl_id!==null&&e.cmr_id!==null&&c({action:"start",movement:ot[t],ctrl_id:e.ctrl_id,cmr_id:e.cmr_id,velocity:o})},y=()=>{t!==null&&e.ctrl_id!==null&&e.cmr_id!==null&&c({action:"stop",movement:ot[t],ctrl_id:e.ctrl_id,cmr_id:e.cmr_id,velocity:o})},x=async()=>{if(e.ctrl_id!==null&&e.cmr_id!==null)try{const w=await(await fetch(`${kt}/api/v1/camera/snapshot?ctrl_id=${e.ctrl_id}&cmr_id=${e.cmr_id}`,{credentials:"include"})).blob(),S=document.createElement("a");S.href=URL.createObjectURL(w),S.download="nombre-de-la-imagen.jpg",S.style.display="none",document.body.appendChild(S),S.click(),document.body.removeChild(S)}catch(h){console.error("Error al descargar la imagen:",h)}};return r.jsx(r.Fragment,{children:r.jsxs($,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 24px",flexDirection:"column",gap:"16px",alignSelf:"stretch"},children:[r.jsxs($,{sx:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[r.jsx($,{sx:e.isSelected==!1||e.tc_id===null||e.tc_id===Ee.Bullet?{pointerEvents:"none",opacity:"0.5",userSelect:"none",cursor:"not-allowed",display:"flex"}:{display:"flex"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",viewBox:"-100 -100 200 200",fill:"none",children:Wr.map((h,w)=>r.jsxs("g",{onMouseLeave:p,onMouseEnter:()=>d(w),onMouseDown:u,onMouseUp:y,children:[r.jsx("path",{d:h.sector.d,fill:t===w?"#404B69":"#2D2F31"}),r.jsx("g",{transform:h.icon.translate,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:t===w?"#21cdc0":"#8F939A",children:r.jsx("path",{transform:h.icon.rotate,d:h.icon.d})})})]},w))})}),r.jsx(st,{sx:e.isSelected==!1||e.tc_id===null?{position:"absolute",pointerEvents:"none",opacity:"0.5",userSelect:"none",cursor:"not-allowed"}:{position:"absolute"},onClick:x,children:r.jsx("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{id:"Vector",fillRule:"evenodd",clipRule:"evenodd",d:"M7.77778 18H12.2222C15.3433 18 16.9038 18 18.0248 17.2646C18.51 16.9462 18.9267 16.5371 19.251 16.0607C20 14.9601 20 13.4279 20 10.3636C20 7.2994 20 5.76721 19.251 4.6666C18.9267 4.19014 18.51 3.78104 18.0248 3.46268C17.3044 2.99013 16.4027 2.82123 15.022 2.76086C14.3631 2.76086 13.7959 2.27068 13.6667 1.63636C13.4728 0.68489 12.6219 0 11.6337 0H8.3663C7.37805 0 6.52715 0.68489 6.33333 1.63636C6.20412 2.27068 5.63685 2.76086 4.978 2.76086C3.59733 2.82123 2.69555 2.99013 1.97524 3.46268C1.48995 3.78104 1.07328 4.19014 0.74902 4.6666C1.19209e-07 5.76721 0 7.2994 0 10.3636C0 13.4279 1.19209e-07 14.9601 0.74902 16.0607C1.07328 16.5371 1.48995 16.9462 1.97524 17.2646C3.09624 18 4.65675 18 7.77778 18ZM10 6.27273C7.69881 6.27273 5.83333 8.1043 5.83333 10.3636C5.83333 12.623 7.69881 14.4545 10 14.4545C12.3012 14.4545 14.1667 12.623 14.1667 10.3636C14.1667 8.1043 12.3012 6.27273 10 6.27273ZM10 7.9091C8.6193 7.9091 7.5 9.008 7.5 10.3636C7.5 11.7192 8.6193 12.8182 10 12.8182C11.3807 12.8182 12.5 11.7192 12.5 10.3636C12.5 9.008 11.3807 7.9091 10 7.9091ZM14.7222 7.0909C14.7222 6.63904 15.0953 6.27273 15.5556 6.27273H16.6667C17.1269 6.27273 17.5 6.63904 17.5 7.0909C17.5 7.5428 17.1269 7.9091 16.6667 7.9091H15.5556C15.0953 7.9091 14.7222 7.5428 14.7222 7.0909Z",fill:"#707070"})})})]}),r.jsxs($,{sx:e.isSelected==!1||e.tc_id===null||e.tc_id===Ee.Bullet?{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:.5,pointerEvents:"none",opacity:"0.5",userSelect:"none",cursor:"not-allowed"}:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:.5},children:[r.jsx($,{sx:{width:"100%"},children:r.jsx(Pr,{"aria-label":"Small steps",defaultValue:.5,onChange:(h,w)=>f(w),step:.125,min:.125,max:1,value:o,valueLabelFormat:Ur,marks:Rt})}),e.ctrl_id!==null&&e.cmr_id!==null&&r.jsx(Br,{action:"Zoom",cmr_id:e.cmr_id,ctrl_id:e.ctrl_id,velocity:o,children:"Zoom"})]})]})})},Yr=()=>{const e=te(c=>c.stream),[t,n]=C.useState(""),[o]=Kt(),l=c=>{c.preventDefault(),e.cmr_id!==null&&e.ctrl_id!==null&&o({cmr_id:e.cmr_id,num_preset:t,ctrl_id:e.ctrl_id}),n("")};return r.jsx($,{sx:e.isSelected==!1||e.tc_id===null||e.tc_id===Ee.Bullet?{maxWidth:"300px",pointerEvents:"none",opacity:"0.5",userSelect:"none",cursor:"not-allowed"}:{maxWidth:"300px"},children:r.jsx("form",{onSubmit:l,children:r.jsxs(it,{spacing:1,children:[r.jsx(tr,{htmlFor:"input-ptz-preset-function",children:"Preset"}),r.jsx(rr,{fullWidth:!0,value:t,onChange:c=>n(c.target.value),placeholder:"Ingrese num. preset",id:"input-ptz-preset-function",name:"input-ptz-preset-function",variant:"outlined",type:"number",onKeyDown:c=>{c.key==="Enter"&&c.preventDefault()},size:"small"}),r.jsx(ar,{size:"small",type:"submit",variant:"contained",startIcon:r.jsx(nr,{}),children:"Go"})]})})})},Xr=()=>{const[e,t]=C.useState(!1);return r.jsx(r.Fragment,{children:r.jsxs(ce,{sx:{width:"100%"},component:"div","aria-labelledby":"nested-list-subheader",disablePadding:!0,children:[r.jsx(le,{disablePadding:!0,children:r.jsxs(be,{onClick:()=>{t(!e)},sx:{pl:4,"&:hover":{bgcolor:"primary.lighter"}},children:[r.jsx(De,{sx:{minWidth:40},children:r.jsx(Er,{isSelected:!!e})}),r.jsx(ve,{primary:r.jsx(ue,{variant:"h6",sx:{color:e?"primary.main":"text.primary"},children:"Control"})}),e?r.jsx(lt,{sx:{color:e?"primary.main":"text.primary"}}):r.jsx(ct,{sx:{color:e?"primary.main":"text.primary"}})]})}),r.jsx(dt,{in:e,timeout:"auto",unmountOnExit:!0,children:r.jsx(ce,{component:"div",disablePadding:!0,children:r.jsx(le,{children:r.jsxs($,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",width:"100%",paddingBottom:2},children:[r.jsx(Hr,{}),r.jsx(Yr,{})]})})})})]})})},qr=e=>({id:"group-cameras-control",title:"Camaras y/o Control",type:"group",children:[{id:"collapse-cameras",title:"Camaras",type:"collapse",icon:zr,children:Object.values(e).map(n=>{const{region:o,rgn_id:l,controllers:c}=n,f=Object.values(c).map(d=>{const{ctrl_id:p,nodo:u,camaras:y}=d,x=y.map(h=>({id:`cam-item-${h.cmr_id}`,title:et(h.ip,15,!0),type:"item",icon:Jt,data:[h]}));return{id:`item-nodo-${p}`,title:et(u,15,!0),type:"collapse",icon:Ar,children:x,data:d.camaras}});return{id:`callapse-cam-reg-${l}`,title:et(o,15,!0),type:"collapse",children:f,data:Object.values(c).flatMap(d=>d.camaras)}}),data:Object.values(e).flatMap(n=>Object.values(n.controllers)).flatMap(n=>n.camaras)}]}),sa=()=>{const[e,t]=C.useState(null),{pathname:n}=Qt();return C.useEffect(()=>{const o=async()=>{try{const c=await(await fetch(`${kt}/api/v1/cameras`,{method:"GET",credentials:"include"})).json(),f=qr(c);t(f)}catch(l){console.error(l)}};n.startsWith("/vms")&&o()},[n]),r.jsx("div",{children:r.jsxs(ce,{subheader:r.jsx($,{sx:{pl:3,mb:1.5},children:r.jsx(ue,{variant:"subtitle2",color:"text.secondary",component:"h6",children:"Camaras y/o Control"})}),sx:{mb:0,py:0,zIndex:0},children:[n==="/vms"&&e&&r.jsx(Zr,{item:e}),(n==="/vms"||n.startsWith("/nodos"))&&r.jsx(Xr,{})]})})};export{sa as MultilevelSelect,sa as default};
