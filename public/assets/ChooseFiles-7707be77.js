import{c as b,j as n,Q as _,U as z,r as j,K as C,_ as g,N as B,a3 as H,a4 as N,I as O,aa as U}from"./index-82986cbd.js";const w=b(n.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var P=(e=>(e[e.Esperando=1]="Esperando",e[e.Aceptado=2]="Aceptado",e[e.Cancelado=3]="Cancelado",e[e.Rechazado=4]="Rechazado",e[e.Finalizado=16]="Finalizado",e[e.Anulado=17]="Anulado",e[e.NoAtendido=18]="NoAtendido",e))(P||{}),d={},K=z;Object.defineProperty(d,"__esModule",{value:!0});var Q=d.default=void 0,V=K(_()),G=n;Q=d.default=(0,V.default)((0,G.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var u={},J=z;Object.defineProperty(u,"__esModule",{value:!0});var F=u.default=void 0,W=J(_()),X=n;F=u.default=(0,W.default)((0,X.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Z=({supportedFormats:e,handleError:i,count:h,maxSize:p,onUpload:I,onDelete:y,files:s,setFiles:v,children:E,buttonStyle:$={}})=>{const c=j.useRef(null),A=()=>{c.current&&c.current.click()},M=r=>e.includes(r.type),D=r=>{const a=p*1024*1024;return r.size<=a},q=r=>{const a=r.target,t=a.files,l=[];if(t)if(s.length+t.length>h){i(`El número máximo de archivos permitidos es ${h}.`),a.value="";return}else{Array.from(t).forEach(o=>{if(M(o))if(D(o))l.push(o);else{i(`El archivo ${o.name} excede el tamaño máximo permitido ${p}MB.`);return}else{i(`El archivo ${o.name} no es un tipo de archivo permitido.`);return}});const m=l.filter(o=>!s.some(x=>{const f=x.name===o.name&&x.size===o.size;return f&&i(`El archivo ${o.name} ya existe.`),f}));m.length>0&&v(o=>[...o,...m])}a.value=""},L=r=>{const a=s.filter((t,l)=>l!==r);v(a),y(a)};return j.useEffect(()=>{s.length>0&&I(s)},[s]),n.jsx(n.Fragment,{children:n.jsxs(C,{spacing:2,children:[n.jsx(g,{htmlFor:"choose-files",onClick:r=>r.preventDefault(),children:E}),n.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:c,onChange:q,accept:e.join(" , ")}),n.jsx(B,{onClick:A,variant:"contained",startIcon:n.jsx(w,{}),sx:$,children:"Seleccionar"}),n.jsx(C,{children:s.length>0&&n.jsx(H,{children:s.map((r,a,t)=>{const{name:l}=r;return n.jsx(N,{divider:a<t.length-1,secondaryAction:n.jsx(O,{onClick:()=>L(a),edge:"end",children:n.jsx(F,{color:"error"})}),children:n.jsx(U,{primary:l,secondary:""})},a)})})})]})})};export{Z as C,P as R,Q as d};
