import{c as k,j as e,L as _,M as C,r as j,F as g,$ as L,a0 as q,I as B,a5 as b}from"./index-83afeab6.js";import{I as H,B as O}from"./InputLabel-a01ea7c7.js";const w=k(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");var c={},A=C;Object.defineProperty(c,"__esModule",{value:!0});var P=c.default=void 0,T=A(_()),U=e,V=(0,T.default)((0,U.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");P=c.default=V;var u={},G=C;Object.defineProperty(u,"__esModule",{value:!0});var I=u.default=void 0,J=G(_()),K=e,N=(0,J.default)((0,K.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");I=u.default=N;const X=({supportedFormats:d,handleError:o,count:h,maxSize:v,onUpload:$,onDelete:y,files:r,setFiles:p,children:F,buttonStyle:S={}})=>{const l=j.useRef(null),z=()=>{l.current&&l.current.click()},M=a=>d.includes(a.type),D=a=>{const t=v*1024*1024;return a.size<=t},E=a=>{const t=a.target,s=t.files,i=[];if(s)if(r.length+s.length>h){o(`El número máximo de archivos permitidos es ${h}.`),t.value="";return}else{Array.from(s).forEach(n=>{if(M(n))if(D(n))i.push(n);else{o(`El archivo ${n.name} excede el tamaño máximo permitido ${v}MB.`);return}else{o(`El archivo ${n.name} no es un tipo de archivo permitido.`);return}});const m=i.filter(n=>!r.some(f=>{const x=f.name===n.name&&f.size===n.size;return x&&o(`El archivo ${n.name} ya existe.`),x}));m.length>0&&p(n=>[...n,...m])}t.value=""},R=a=>{const t=r.filter((s,i)=>i!==a);p(t),y(t)};return j.useEffect(()=>{r.length>0&&$(r)},[r]),e.jsx(e.Fragment,{children:e.jsxs(g,{spacing:2,children:[e.jsx(H,{htmlFor:"choose-files",onClick:a=>a.preventDefault(),children:F}),e.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:l,onChange:E,accept:d.join(" , ")}),e.jsx(O,{onClick:z,variant:"contained",startIcon:e.jsx(w,{}),sx:S,children:"Seleccionar"}),e.jsx(g,{children:r.length>0&&e.jsx(L,{children:r.map((a,t,s)=>{const{name:i}=a;return e.jsx(q,{divider:t<s.length-1,secondaryAction:e.jsx(B,{onClick:()=>R(t),edge:"end",children:e.jsx(I,{color:"error"})}),children:e.jsx(b,{primary:i,secondary:""})},t)})})})]})})};export{X as C,P as d};
