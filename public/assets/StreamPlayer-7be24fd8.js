import{r as d,aV as g,aW as w,aX as r,j as P,s as E,n as G,e as J,aY as X,q as Z,Y as ee,Z as oe,B as te,aQ as S,a_ as se}from"./index-cd9971db.js";import{q as ae,t as V,w as A,s as v,x as _,y as j,z as L,A as N,B as $,E as z,F as re,v as ne,a as le,g as ie,P as ce,u as O,b as R,G as C,e as ue,H as de,h as pe,I,J as T,K as fe,i as U,j as W,k as be,l as e,m as Y,n as me,o as Pe}from"./useMobilePicker-82bf0998.js";import{T as Q}from"./TextField-3a09ba66.js";import{S as De}from"./ServerError-be89b6ca.js";const ye=i=>{const a=ae(i),{forwardedProps:n,internalProps:s}=V(a,"date");return A({forwardedProps:n,internalProps:s,valueManager:v,fieldValueManager:_,validator:j,valueType:"date"})},he=["slots","slotProps","InputProps","inputProps"],q=d.forwardRef(function(a,n){const s=g({props:a,name:"MuiDateField"}),{slots:o,slotProps:t,InputProps:c,inputProps:p}=s,b=w(s,he),m=s,u=(o==null?void 0:o.textField)??(a.enableAccessibleFieldDOMStructure?L:Q),l=N({elementType:u,externalSlotProps:t==null?void 0:t.textField,externalForwardedProps:b,additionalProps:{ref:n},ownerState:m});l.inputProps=r({},p,l.inputProps),l.InputProps=r({},c,l.InputProps);const f=ye(l),y=$(f),h=z(r({},y,{slots:o,slotProps:t}));return P.jsx(u,r({},h))}),Te=i=>{const a=re(i),{forwardedProps:n,internalProps:s}=V(a,"time");return A({forwardedProps:n,internalProps:s,valueManager:v,fieldValueManager:_,validator:ne,valueType:"time"})},ge=["slots","slotProps","InputProps","inputProps"],Ie=d.forwardRef(function(a,n){const s=g({props:a,name:"MuiTimeField"}),{slots:o,slotProps:t,InputProps:c,inputProps:p}=s,b=w(s,ge),m=s,u=(o==null?void 0:o.textField)??(a.enableAccessibleFieldDOMStructure?L:Q),l=N({elementType:u,externalSlotProps:t==null?void 0:t.textField,externalForwardedProps:b,ownerState:m,additionalProps:{ref:n}});l.inputProps=r({},p,l.inputProps),l.InputProps=r({},c,l.InputProps);const f=Te(l),y=$(f),h=z(r({},y,{slots:o,slotProps:t}));return P.jsx(u,r({},h))});function xe(i){return le("MuiDatePickerToolbar",i)}ie("MuiDatePickerToolbar",["root","title"]);const ke=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Fe=i=>{const{classes:a}=i;return ue({root:["root"],title:["title"]},xe,a)},we=E(ce,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(i,a)=>a.root})({}),ve=E(G,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(i,a)=>a.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Oe=d.forwardRef(function(a,n){const s=g({props:a,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:t,toolbarFormat:c,toolbarPlaceholder:p="––",views:b,className:m}=s,u=w(s,ke),l=O(),f=R(),y=Fe(s),h=d.useMemo(()=>{if(!o)return p;const x=C(l,{format:c,views:b},!0);return l.formatByString(o,x)},[o,c,p,l,b]),M=s;return P.jsx(we,r({ref:n,toolbarTitle:f.datePickerToolbarTitle,isLandscape:t,className:J(y.root,m)},u,{children:P.jsx(ve,{variant:"h4",align:t?"left":"center",ownerState:M,className:y.title,children:h})}))});function B(i,a){const n=O(),s=de(),o=g({props:i,name:a}),t=d.useMemo(()=>{var c;return((c=o.localeText)==null?void 0:c.toolbarTitle)==null?o.localeText:r({},o.localeText,{datePickerToolbarTitle:o.localeText.toolbarTitle})},[o.localeText]);return r({},o,{localeText:t},pe({views:o.views,openTo:o.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:I(n,o.minDate,s.minDate),maxDate:I(n,o.maxDate,s.maxDate),slots:r({toolbar:Oe},o.slots)})}const H=d.forwardRef(function(a,n){var m,u;const s=R(),o=O(),t=B(a,"MuiDesktopDatePicker"),c=r({day:T,month:T,year:T},t.viewRenderers),p=r({},t,{viewRenderers:c,format:C(o,t,!1),yearsPerRow:t.yearsPerRow??4,slots:r({openPickerIcon:fe,field:q},t.slots),slotProps:r({},t.slotProps,{field:l=>{var f;return r({},U((f=t.slotProps)==null?void 0:f.field,l),W(t),{ref:n})},toolbar:r({hidden:!0},(m=t.slotProps)==null?void 0:m.toolbar)})}),{renderPicker:b}=be({props:p,valueManager:v,valueType:"date",getOpenDialogAriaText:((u=p.localeText)==null?void 0:u.openDatePickerDialogue)??s.openDatePickerDialogue,validator:j});return b()});H.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const K=d.forwardRef(function(a,n){var m,u;const s=R(),o=O(),t=B(a,"MuiMobileDatePicker"),c=r({day:T,month:T,year:T},t.viewRenderers),p=r({},t,{viewRenderers:c,format:C(o,t,!1),slots:r({field:q},t.slots),slotProps:r({},t.slotProps,{field:l=>{var f;return r({},U((f=t.slotProps)==null?void 0:f.field,l),W(t),{ref:n})},toolbar:r({hidden:!1},(m=t.slotProps)==null?void 0:m.toolbar)})}),{renderPicker:b}=me({props:p,valueManager:v,valueType:"date",getOpenDialogAriaText:((u=p.localeText)==null?void 0:u.openDatePickerDialogue)??s.openDatePickerDialogue,validator:j});return b()});K.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const Me=["desktopModeMediaQuery"],Ee=d.forwardRef(function(a,n){const s=g({props:a,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=Pe}=s,t=w(s,Me);return X(o,{defaultMatches:!0})?P.jsx(H,r({ref:n},t)):P.jsx(K,r({ref:n},t))}),Ve=({q:i,cmr_id:a,ctrl_id:n})=>{const s=d.useRef(null),o=d.useRef(null),[t,c]=d.useState(!1),[p,b]=d.useState(!1),[m,u]=d.useState(!1),[l,f]=d.useState(!1),[y,h]=d.useState(null),M=Z(),x=D=>{D.currentTarget===D.target&&M(se())};return d.useEffect(()=>(o.current||(o.current=ee(`${oe}/stream/${n}/${a}/${i}`)),o.current.on("stream_flux",D=>{s.current&&D&&(s.current.src=D)}),o.current.on("stream_state",D=>{const{state:k,typeState:F}=D;F==="isConfiguring"&&c(k),F==="isError"&&u(k),F==="isLoading"&&b(k),F==="isSuccess"&&f(k)}),o.current.on("stream_error",D=>{h(D)}),()=>{o.current&&(o.current.disconnect(),o.current=null),s.current&&(s.current=null),c(!1),u(!1),b(!1),f(!1),h(null)}),[n,a,i]),P.jsx(P.Fragment,{children:P.jsxs(te,{sx:{width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},onDoubleClickCapture:x,children:[t&&P.jsx(S,{children:"Configurando"}),p&&P.jsx(S,{children:"Cargando"}),m&&P.jsx(De,{children:y}),o.current&&l&&P.jsx("img",{ref:s,style:{width:"100%",height:"100%",position:"absolute"},alt:`Video Stream ${a}`,onDoubleClickCapture:x})]})})};export{Ee as D,Ve as S,Ie as T};
