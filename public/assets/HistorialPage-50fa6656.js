import{g as Fe,a as Ae,s as Ie,m as Me,aH as ge,r as b,b as Oe,bL as pt,j as e,e as Le,bM as ut,bN as ht,aG as R,h as Ge,c as be,b3 as xt,u as mt,Q as H,U as V,n as jt,bO as gt,bP as vt,bQ as ft,bR as bt,bS as Ct,ax as ae,B as le,o as d,ay as de,I as E,aZ as we,G as p,p as J,aP as K,K as x,a1 as Ne,N as A,a3 as ce,a4 as pe,aa as re,ar as yt,L as kt,v as Ue,k as Ce,_ as ue,S as ve,bT as Y,D as fe,bU as $t,bV as St,F as ne,bW as Rt,bX as zt,bs as Q}from"./index-82986cbd.js";import{d as _t,a as Bt,T as Dt}from"./KeyboardArrowUp-ba5ea0a8.js";import{d as L}from"./CloseRounded-508ed96d.js";import{a as Ye,P as He,b as Ve,c as We,d as te,T as h,e as qe}from"./PaperTable-580deb38.js";import{g as X}from"./getFormattedDateTime-f28f8120.js";import{S as wt,s as Qe}from"./ServerError-aac70d3e.js";import{d as Z}from"./DownloadRounded-583dc7bb.js";import{d as Tt}from"./Close-6dcbe0e4.js";import{C as Pt,d as Et,R as k}from"./ChooseFiles-7707be77.js";import{u as Ft,c as At,a6 as It,a7 as Mt,a8 as Ot,D as Lt,a as Gt,q as Nt,a9 as Ut,A as Yt,z as M}from"./useMobilePicker-85a269f8.js";import{D as Ht}from"./DialogTitle-73a74144.js";import{C as ee}from"./CardHeader-87565142.js";import{D as F,M as G}from"./MenuItem-321b6a5e.js";import{T as he}from"./Tooltip-def2cde8.js";import{d as Te}from"./ArrowDropDownOutlined-d02a8e41.js";import{D as Vt}from"./DatePicker-d2bcfb0b.js";import{S as Wt}from"./SwitchBase-7a42073f.js";import{I as qt}from"./InputAdornment-c988aa7a.js";import{A as Ze}from"./Alert-d7cc38f1.js";import"./LastPage-8ef23493.js";function Qt(t){return Ae("MuiButtonGroup",t)}const Zt=Fe("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),u=Zt,Jt=(t,r)=>{const{ownerState:n}=t;return[{[`& .${u.grouped}`]:r.grouped},{[`& .${u.grouped}`]:r[`grouped${R(n.orientation)}`]},{[`& .${u.grouped}`]:r[`grouped${R(n.variant)}`]},{[`& .${u.grouped}`]:r[`grouped${R(n.variant)}${R(n.orientation)}`]},{[`& .${u.grouped}`]:r[`grouped${R(n.variant)}${R(n.color)}`]},{[`& .${u.firstButton}`]:r.firstButton},{[`& .${u.lastButton}`]:r.lastButton},{[`& .${u.middleButton}`]:r.middleButton},r.root,r[n.variant],n.disableElevation===!0&&r.disableElevation,n.fullWidth&&r.fullWidth,n.orientation==="vertical"&&r.vertical]},Kt=t=>{const{classes:r,color:n,disabled:s,disableElevation:a,fullWidth:i,orientation:o,variant:l}=t,g={root:["root",l,o,i&&"fullWidth",a&&"disableElevation",`color${R(n)}`],grouped:["grouped",`grouped${R(o)}`,`grouped${R(l)}`,`grouped${R(l)}${R(o)}`,`grouped${R(l)}${R(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ge(g,Qt,r)},Xt=Ie("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Jt})(Me(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${u.lastButton},& .${u.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${u.lastButton},& .${u.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${u.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${u.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(([,r])=>r&&r.main).flatMap(([r])=>[{props:{variant:"text",color:r},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:ge(t.palette[r].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${u.lastButton},& .${u.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${u.lastButton},& .${u.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${u.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${u.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(([,r])=>r&&r.dark).map(([r])=>({props:{variant:"contained",color:r},style:{[`& .${u.firstButton},& .${u.middleButton}`]:{borderColor:(t.vars||t).palette[r].dark}}}))],[`& .${u.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),eo=b.forwardRef(function(r,n){const s=Oe({props:r,name:"MuiButtonGroup"}),{children:a,className:i,color:o="primary",component:l="div",disabled:g=!1,disableElevation:v=!1,disableFocusRipple:f=!1,disableRipple:y=!1,fullWidth:z=!1,orientation:w="horizontal",size:$="medium",variant:c="outlined",...B}=s,C={...s,color:o,component:l,disabled:g,disableElevation:v,disableFocusRipple:f,disableRipple:y,fullWidth:z,orientation:w,size:$,variant:c},D=Kt(C),N=b.useMemo(()=>({className:D.grouped,color:o,disabled:g,disableElevation:v,disableFocusRipple:f,disableRipple:y,fullWidth:z,size:$,variant:c}),[o,g,v,f,y,z,$,c,D.grouped]),I=pt(a),W=I.length,ie=U=>{const T=U===0,q=U===W-1;return T&&q?"":T?D.firstButton:q?D.lastButton:D.middleButton};return e.jsx(Xt,{as:l,role:"group",className:Le(D.root,i),ref:n,ownerState:C,...B,children:e.jsx(ut.Provider,{value:N,children:I.map((U,T)=>e.jsx(ht.Provider,{value:ie(T),children:U},T))})})}),to=eo,oo=be(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ro=be(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),no=be(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function io(t){return Ae("MuiCheckbox",t)}const so=Fe("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),xe=so,ao=t=>{const{classes:r,indeterminate:n,color:s,size:a}=t,i={root:["root",n&&"indeterminate",`color${R(s)}`,`size${R(a)}`]},o=Ge(i,io,r);return{...r,...o}},lo=Ie(Wt,{shouldForwardProp:t=>xt(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.indeterminate&&r.indeterminate,r[`size${R(n.size)}`],n.color!=="default"&&r[`color${R(n.color)}`]]}})(Me(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ge(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{color:r,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ge(t.palette[r].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{color:r},style:{[`&.${xe.checked}, &.${xe.indeterminate}`]:{color:(t.vars||t).palette[r].main},[`&.${xe.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),co=e.jsx(ro,{}),po=e.jsx(oo,{}),uo=e.jsx(no,{}),ho=b.forwardRef(function(r,n){const s=Oe({props:r,name:"MuiCheckbox"}),{checkedIcon:a=co,color:i="primary",icon:o=po,indeterminate:l=!1,indeterminateIcon:g=uo,inputProps:v,size:f="medium",disableRipple:y=!1,className:z,...w}=s,$=l?g:o,c=l?g:a,B={...s,disableRipple:y,color:i,indeterminate:l,size:f},C=ao(B);return e.jsx(lo,{type:"checkbox",inputProps:{"data-indeterminate":l,...v},icon:b.cloneElement($,{fontSize:$.props.fontSize??f}),checkedIcon:b.cloneElement(c,{fontSize:c.props.fontSize??f}),ownerState:B,ref:n,className:Le(C.root,z),...w,classes:C})}),xo=ho,mo=t=>{const{format:r,formatDensity:n="dense",shouldRespectLeadingZeros:s=!1}=t,a=Ft(),i=mt(),o=At(),l=b.useMemo(()=>It(a),[a]);return b.useMemo(()=>Mt({utils:a,format:r,formatDensity:n,isRtl:i,shouldRespectLeadingZeros:s,localeText:o,localizedDigits:l,date:null,enableAccessibleFieldDOMStructure:!1}).map(v=>`${v.startSeparator}${v.placeholder}${v.endSeparator}`).join(""),[a,i,o,l,r,n,s])},jo=()=>{const t=b.useContext(Ot);if(t==null)throw new Error(["MUI X: The `usePickersContext` can only be called in fields that are used as a slot of a picker component"].join(`
`));return t};var ye={},go=V;Object.defineProperty(ye,"__esModule",{value:!0});var Je=ye.default=void 0,vo=go(H()),fo=e;Je=ye.default=(0,vo.default)((0,fo.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"}),"Autorenew");var ke={},bo=V;Object.defineProperty(ke,"__esModule",{value:!0});var Ke=ke.default=void 0,Co=bo(H()),yo=e;Ke=ke.default=(0,Co.default)((0,yo.jsx)("path",{d:"M9 16.17 5.53 12.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0z"}),"CheckRounded");var $e={},ko=V;Object.defineProperty($e,"__esModule",{value:!0});var Xe=$e.default=void 0,$o=ko(H()),So=e;Xe=$e.default=(0,$o.default)((0,So.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2M4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12m8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8"}),"DoDisturbAltRounded");var Se={},Ro=V;Object.defineProperty(Se,"__esModule",{value:!0});var et=Se.default=void 0,zo=Ro(H()),_o=e;et=Se.default=(0,zo.default)((0,_o.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m1 14H8c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1s-.45 1-1 1m3-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1m0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"}),"AssignmentRounded");const me=({fechacomienzo:t,fechatermino:r,children:n,rangeDate:s=!1})=>{const[a,i]=b.useState(!1),o=()=>{const l=new Date(t),g=new Date(r),v=new Date,f=s?v>=l&&v<g:v<l;i(f)};return b.useEffect(()=>{o()},[]),b.useEffect(()=>{const l=setInterval(o,1e3);return()=>clearInterval(l)},[]),e.jsx(e.Fragment,{children:a&&n})};var Re={},Bo=V;Object.defineProperty(Re,"__esModule",{value:!0});var tt=Re.default=void 0,Do=Bo(H()),wo=e;tt=Re.default=(0,Do.default)((0,wo.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 12 7.7 9.11a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41"}),"CancelRounded");var ze={},To=V;Object.defineProperty(ze,"__esModule",{value:!0});var ot=ze.default=void 0,Po=To(H()),Eo=e;ot=ze.default=(0,Po.default)((0,Eo.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3zm-3-7V3.5L18.5 9z"}),"NoteAdd");const Fo=({foto:t})=>{const[r,n]=b.useState(null),s=l=>{n(l.currentTarget)},a=()=>{n(null)},i=!!r,o=i?"simple-popover":void 0;return e.jsxs("div",{children:[e.jsx(A,{"aria-describedby":o,variant:"contained",onClick:s,size:"small",children:"Ver Foto"}),e.jsx(yt,{id:o,open:i,anchorEl:r,onClose:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx("img",{src:`${Ne}/api/v1/ticket/fotoactividadpersonal?imgPath=${encodeURIComponent(t)}`,onError:l=>{l.currentTarget.src=Qe},alt:"actividad_personal_foto_perfil",width:200,height:200,style:{objectFit:"cover",borderRadius:"50%"}})})]})};function je(t,r){return r==="docs"?t.reduce((s,a)=>{const i=s,{tipo:o}=a;return(o==="application/pdf"||o==="application/vnd.ms-powerpoint"||o==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||o==="application/vnd.ms-excel"||o==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||o==="application/msword"||o==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")&&i.push(a),i},[]):r==="imgs"?t.reduce((s,a)=>{const i=s,{tipo:o}=a;return(o==="image/jpeg"||o==="image/png"||o==="image/svg+xml"||o==="image/gif"||o==="image/avif"||o==="image/apng"||o==="image/webp")&&i.push(a),i},[]):r==="vids"?t.reduce((s,a)=>{const i=s,{tipo:o}=a;return(o==="video/x-msvideo"||o==="video/mp4"||o==="video/mpeg"||o==="video/ogg"||o==="video/webm"||o==="video/3gpp")&&i.push(a),i},[]):[]}const Ao=({handleCloseDialog:t,isOpen:r,data:n})=>{const{ctrl_id:s,rt_id:a}=n,i=jt(),[o,l]=b.useState(null),[g,{isError:v,isSuccess:f,data:y,error:z,isLoading:w}]=gt(),{isSuccess:$,data:c,isLoading:B,isError:C}=vt({ctrl_id:s,rt_id:a},{refetchOnMountOrArgChange:!0}),[D]=ft(),[N]=bt(),[I]=Ct(),W=async(m,j)=>{try{const S=await D({filePath:m}).unwrap(),_=document.createElement("a");_.href=S,_.download=j,_.style.display="none",document.body.appendChild(_),_.click(),document.body.removeChild(_)}catch(S){console.error("Error al descargar el archivo",S)}},ie=async()=>{try{const m=await N({ctrl_id:s,rt_id:a}).unwrap(),j=document.createElement("a");j.href=m,j.download=`archivo_respaldo_${s}_${a}_${Date.now()}.zip`,j.style.display="none",document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(m){console.error("Error al descargar el archivo ZIP:",m)}},U=async()=>{try{const m=await I({ctrl_id:s,rt_id:a}).unwrap(),j=document.createElement("a");j.href=m,j.download=`ticket_detalles_${Date.now()}.pdf`,j.style.display="none",document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(m){console.error("Error al descargar archivo pdf de los detalles del ticket.",m)}},[T,q]=b.useState(!1),rt=()=>{T&&(oe(null),se([])),q(!T)},nt=["image/jpeg","image/jpg","image/png","application/pdf","video/mp4"],[_e,oe]=b.useState(null),[Be,se]=b.useState([]),it=m=>{ae.warn(()=>e.jsx(le,{children:e.jsx(d,{component:"p",variant:"body1",children:m})}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:i.palette.mode,transition:de,closeButton:!0,style:{backgroundColor:i.palette.background.paper,borderWidth:"1px",borderStyle:"solid",borderColor:i.palette.divider}})},st=m=>{const j=new FormData;m.forEach(S=>{j.append("archivos",S)}),oe(j)},at=m=>{const j=new FormData;m.forEach(S=>{j.append("archivos",S)}),oe(j)},lt=()=>{if(_e){const m=new FormData,j=JSON.stringify({ctrl_id:s,rt_id:a});m.append("formvalues",j);for(const[S,_]of _e.entries())m.append(S,_);g(m)}};return b.useEffect(()=>{if($&&c){const{archivos_respaldo:m}=c;l(m)}},[$,c]),b.useEffect(()=>{v&&z&&ae.error(()=>e.jsx(le,{children:e.jsx(d,{component:"p",variant:"body1",children:JSON.stringify(z)})}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:i.palette.mode,transition:de,closeButton:!0,style:{backgroundColor:i.palette.background.paper,borderWidth:"1px",borderStyle:"solid",borderColor:i.palette.divider}}),f&&y&&(ae.success(()=>e.jsx(le,{children:e.jsx(d,{component:"p",variant:"body1",children:y.message})}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:i.palette.mode,transition:de,closeButton:!0,style:{backgroundColor:i.palette.background.paper,borderWidth:"1px",borderStyle:"solid",borderColor:i.palette.divider}}),oe(null),se([]),q(!1),l(y.data))},[v,f,y]),e.jsxs(Lt,{open:r,onClose:t,fullWidth:!0,maxWidth:"xl",sx:{"& .MuiDialog-paper":{}},children:[e.jsx(Ht,{children:e.jsx(d,{component:"div",variant:"h5",children:"Detalles"})}),e.jsx(E,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:16,top:8},children:e.jsx(Tt,{})}),e.jsxs(Gt,{dividers:!0,children:[B&&e.jsx(we,{children:"Cargando detalles ..."}),C&&e.jsx(wt,{children:"Error al cargar detalles del ticket."}),$&&c&&e.jsxs(p,{container:!0,rowSpacing:1,columnSpacing:1,children:[e.jsx(p,{size:{xs:12,md:4},children:e.jsxs(J,{children:[e.jsx(ee,{sx:{p:1},title:e.jsx(d,{component:"div",variant:"h5",children:"Solicitante"})}),e.jsx(F,{}),e.jsx(K,{children:e.jsxs(p,{container:!0,rowSpacing:1,columnSpacing:1,children:[e.jsx(p,{size:{xs:12},children:e.jsxs(x,{spacing:.5,alignItems:"center",children:[e.jsx("img",{src:`${Ne}/api/v1/ticket/fotoactividadpersonal?imgPath=${encodeURIComponent(c.solicitante.foto)}`,alt:"solicitante_foto_perfil",onError:m=>{m.currentTarget.src=Qe},width:100,height:100,style:{objectFit:"cover",borderRadius:"50%"}}),e.jsx(d,{component:"p",variant:"h6",children:c.solicitante.nombre}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.cargo})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Nombre"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.nombre})]})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Telefono"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.telefono})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Correo"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.correo})]})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"DNI"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.dni})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Cargo"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.cargo})]})}),e.jsx(p,{size:{xs:6},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Contrata"}),e.jsx(d,{component:"p",variant:"body1",children:c.solicitante.contrata})]})})]})})]})}),e.jsx(p,{size:{xs:12,md:8},children:e.jsxs(J,{children:[e.jsx(ee,{sx:{p:1},title:e.jsx(d,{component:"div",variant:"h5",children:"Ticket"}),action:e.jsx(he,{title:"Generar PDF",placement:"left",children:e.jsx(E,{"aria-label":"download_ticket_details",onClick:U,children:e.jsx(Z,{color:"info"})})})}),e.jsx(F,{}),e.jsx(K,{children:e.jsxs(p,{container:!0,rowSpacing:1.5,columnSpacing:1,children:[e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Tipo Trabajo"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.tipotrabajo})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Descripci처n"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.descripcion})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Prioridad"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.prioridad===1?"Alta":c.ticket.prioridad===2?"Medio":c.ticket.prioridad===3?"Bajo":"Error-Prioridad"})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Contrata"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.contrata})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Estado"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.estado})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Fecha Creaci처n"}),e.jsx(d,{component:"p",variant:"body1",children:X(c.ticket.fechacreacion)})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Fecha Comienzo"}),e.jsx(d,{component:"p",variant:"body1",children:X(c.ticket.fechacomienzo)})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Fecha Termino"}),e.jsx(d,{component:"p",variant:"body1",children:X(c.ticket.fechatermino)})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Fecha Estado Final"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.fechaestadofinal&&X(c.ticket.fechaestadofinal)})]})}),e.jsx(p,{size:{xs:12},children:e.jsx(F,{})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Telefono"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.telefono})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Correo"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.correo})]})}),e.jsx(p,{size:{xs:4},children:e.jsxs(x,{spacing:.5,children:[e.jsx(d,{component:"p",variant:"h6",children:"Numero Ticket:"}),e.jsx(d,{component:"p",variant:"body1",children:c.ticket.rt_id})]})})]})})]})}),e.jsx(p,{size:{xs:12},children:e.jsxs(J,{children:[e.jsx(ee,{sx:{p:1},title:e.jsx(d,{component:"div",variant:"h5",children:"Personales"})}),e.jsx(F,{}),e.jsx(K,{children:e.jsx(Ye,{component:He,children:e.jsxs(Ve,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[e.jsx(We,{children:e.jsxs(te,{children:[e.jsx(h,{children:"N째"}),e.jsx(h,{children:"Nombre"}),e.jsx(h,{children:"Telefono"}),e.jsx(h,{children:"DNI"}),e.jsx(h,{children:"Cargo"}),e.jsx(h,{children:"Contrata"}),e.jsx(h,{children:"Foto"})]})}),e.jsx(qe,{children:c.personales.map((m,j)=>{const{ap_id:S,nombre:_,telefono:O,dni:P,cargo:dt,contrata:ct,foto:De}=m;return e.jsxs(te,{children:[e.jsx(h,{children:j+1}),e.jsx(h,{children:_}),e.jsx(h,{children:O}),e.jsx(h,{children:P}),e.jsx(h,{children:dt}),e.jsx(h,{children:ct}),e.jsx(h,{children:De&&e.jsx(Fo,{foto:De},S+P)})]},S)})})]})})})]})}),e.jsx(p,{size:{xs:12},children:e.jsxs(J,{children:[e.jsx(ee,{sx:{pl:1,py:1,pr:2},title:e.jsx(d,{component:"div",variant:"h5",children:"Archivos de Respaldo"}),action:e.jsxs(x,{direction:"row",spacing:2,children:[e.jsx(he,{title:"Descargar ZIP",placement:"left",children:e.jsx(E,{"aria-label":"download_file_zip",onClick:ie,children:e.jsx(Z,{color:"primary"})})}),e.jsx(he,{title:"Agregar archivo",placement:"bottom-end",children:e.jsxs(E,{"aria-label":"editar_archivos_respaldo",onClick:rt,children:[!T&&e.jsx(ot,{color:"warning"}),T&&e.jsx(tt,{color:"error"})]})})]})}),e.jsx(F,{}),e.jsx(K,{children:e.jsxs(p,{container:!0,rowSpacing:1,columnSpacing:1,children:[T&&e.jsx(p,{size:{xs:12},sx:{marginBottom:1,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:i.palette.divider},children:e.jsxs(x,{spacing:1,pb:1,children:[e.jsx(Pt,{supportedFormats:nt,handleError:it,onUpload:st,onDelete:at,count:5,maxSize:10,files:Be,setFiles:se,buttonStyle:{maxWidth:300},children:"Nuevos archivos de respaldo:"}),w&&e.jsx(we,{children:"Enviando ..."}),Be.length>0&&e.jsx(x,{alignItems:"end",children:e.jsx(A,{sx:{maxWidth:300},onClick:lt,variant:"contained",type:"submit",startIcon:e.jsx(Et,{}),children:"Guardar"})})]})}),e.jsx(p,{size:{xs:12,md:4},sx:{borderRightWidth:"2px",borderRightColor:i.palette.mode==="dark"?i.palette.divider:i.palette.grey.A800,borderRightStyle:"solid"},children:e.jsxs(x,{direction:"column",spacing:1,children:[e.jsx(d,{component:"div",variant:"body1",children:"Documentos:"}),e.jsx(ce,{sx:{pr:1},children:o&&je(o,"docs").map((m,j,S)=>{const{at_id:_,ruta:O,nombreoriginal:P}=m;return e.jsx(pe,{divider:j<S.length-1,secondaryAction:e.jsx(E,{edge:"end","aria-label":"download_doc",onClick:()=>{W(O,P)},children:e.jsx(Z,{color:"info"})}),children:e.jsx(re,{primary:P,sx:{overflow:"hidden",textOverflow:"ellipsis"}})},_)})})]})}),e.jsx(p,{size:{xs:12,md:4},sx:{borderRightWidth:"2px",borderRightColor:i.palette.mode==="dark"?i.palette.divider:i.palette.grey.A800,borderRightStyle:"solid"},children:e.jsxs(x,{direction:"column",spacing:1,children:[e.jsx(d,{component:"div",variant:"body1",children:"Fotos:"}),e.jsx(ce,{sx:{pr:1},children:o&&je(o,"imgs").map((m,j,S)=>{const{at_id:_,ruta:O,nombreoriginal:P}=m;return e.jsx(pe,{divider:j<S.length-1,secondaryAction:e.jsx(E,{edge:"end","aria-label":"download_img",onClick:()=>{W(O,P)},children:e.jsx(Z,{color:"info"})}),children:e.jsx(re,{primary:P,sx:{overflow:"hidden",textOverflow:"ellipsis"}})},_)})})]})}),e.jsx(p,{size:{xs:12,md:4},children:e.jsxs(x,{direction:"column",spacing:1,children:[e.jsx(d,{component:"div",variant:"body1",children:"Videos:"}),e.jsx(ce,{sx:{pr:1},children:o&&je(o,"vids").map((m,j,S)=>{const{at_id:_,ruta:O,nombreoriginal:P}=m;return e.jsx(pe,{divider:j<S.length-1,secondaryAction:e.jsx(E,{edge:"end","aria-label":"download_vids",onClick:()=>{W(O,P)},children:e.jsx(Z,{color:"info"})}),children:e.jsx(re,{primary:P,sx:{overflow:"hidden",textOverflow:"ellipsis"}})},_)})})]})})]})})]})})]})]})]})};function Io(t){const{internalProps:r,forwardedProps:n}=Nt(t,"date"),{value:s,timezone:a,format:i}=r,{InputProps:o,slotProps:l,slots:g,...v}=n,f=jo(),y=mo(r),{hasValidationError:z}=Ut({validator:Yt,value:s,timezone:a,props:r}),w=$=>{f.open?f.onClose($):f.onOpen($)};return e.jsx(kt,{...v,value:s==null?"":s.format(i),placeholder:y,InputProps:{...o,readOnly:!0,...l&&l.textField&&"id"in l.textField&&{id:String(l.textField.id)},sx:{cursor:"pointer","& *":{cursor:"inherit"}}},error:z,onClick:w})}function Mo(t){return e.jsx(Vt,{...t,slots:{...t.slots,field:Io}})}const Pe=[{value:1,name:"Alta prioridad"},{value:2,name:"Media prioridad"},{value:3,name:"Baja prioridad"}],Ee=[{value:1,name:"Pendientes"},{value:2,name:"Aceptados"},{value:3,name:"Cancelados"},{value:4,name:"Rechazados"},{value:16,name:"Finalizados"},{value:17,name:"Anulados"},{value:18,name:"No atendido"}],Oo=()=>{const t=Ue(),{date:r,priority:n,state:s}=Ce(o=>o.ticketStore),a=o=>{t(Y({priority:o.target.value}))},i=o=>{typeof o.target.value=="object"&&t(Y({state:[...o.target.value]}))};return e.jsxs(p,{container:!0,rowSpacing:3,columnSpacing:2.75,children:[e.jsx(p,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsxs(x,{spacing:1,children:[e.jsx(ue,{htmlFor:"priority_select",sx:{display:"none"},children:"Prioridad"}),e.jsxs(ve,{displayEmpty:!0,value:n,onChange:a,inputProps:{id:"priority_select"},renderValue:o=>{if(o.length===0)return e.jsx(e.Fragment,{children:"Nivel de prioridad"});const l=Pe.find(g=>String(g.value)===String(o));return e.jsx(e.Fragment,{children:l?l.name:"No controlado"})},IconComponent:({...o})=>n!==""?e.jsx(E,{onClick:l=>{l.stopPropagation(),t(Y({priority:""}))},sx:{width:"1em",height:"1em",position:"absolute",right:7,top:"calc(50% - .5em)"},children:e.jsx(L,{fontSize:"small"})}):e.jsx(Te,{...o}),children:[e.jsx(G,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Nivel de prioridad"})}),Pe.map((o,l)=>e.jsx(G,{value:o.value,children:o.name},l))]})]})}),e.jsx(p,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsxs(x,{spacing:1,children:[e.jsx(ue,{htmlFor:"multiple_state_select",sx:{display:"none"},children:"Estados"}),e.jsxs(ve,{displayEmpty:!0,value:s,multiple:!0,onChange:i,inputProps:{id:"multiple_state_select"},renderValue:o=>{if(o.length===0)return e.jsx(e.Fragment,{children:"Estados"});const l=o.reduce((g,v)=>{const f=g,y=Ee.find(z=>String(z.value)===String(v));return y!==void 0&&f.push(y.name),f},[]);return e.jsx(e.Fragment,{children:l.join(", ")})},IconComponent:({...o})=>s.length>0?e.jsx(E,{onClick:l=>{l.stopPropagation(),t(Y({state:[]}))},sx:{width:"1em",height:"1em",position:"absolute",right:7,top:"calc(50% - .5em)"},children:e.jsx(L,{fontSize:"small"})}):e.jsx(Te,{...o}),children:[e.jsx(G,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Estados"})}),Ee.map((o,l)=>e.jsxs(G,{value:String(o.value),children:[e.jsx(xo,{checked:s.includes(String(o.value))}),e.jsx(re,{primary:o.name})]},l))]})]})}),e.jsx(p,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsxs(x,{spacing:1,children:[e.jsx(ue,{htmlFor:"date-select-ticket",sx:{display:"none"},children:"Fecha"}),e.jsx(Mo,{format:"DD/MM/YYYY",value:r!==""?fe(r,"DD/MM/YYYY"):null,onChange:o=>{o&&t(Y({date:o.format("DD/MM/YYYY")}))},slots:{inputAdornment:Lo},slotProps:{textField:{size:"medium",id:"date-select-ticket"},inputAdornment:{canDelete:r!==""}}})]})})]})};function Lo(t){const{canDelete:r,children:n,sx:s,...a}=t,i=Ue();return e.jsxs(qt,{...a,children:[r&&e.jsx(E,{onClick:o=>{o.stopPropagation(),i(Y({date:""}))},sx:{width:"1em",height:"1em",position:"absolute",right:7,top:"calc(50% - .5em)"},children:e.jsx(L,{fontSize:"small"})}),!r&&n]})}const Go=({id:t})=>t===k.Esperando?e.jsx(M,{icon:e.jsx(Je,{}),color:"warning",variant:"filled",label:"Pendiente"}):t===k.Aceptado?e.jsx(M,{icon:e.jsx(Ke,{}),color:"success",variant:"filled",label:"Aceptado"}):t===k.Cancelado?e.jsx(M,{icon:e.jsx(Xe,{}),color:"error",variant:"filled",label:"Cancelado"}):t===k.Rechazado?e.jsx(M,{icon:e.jsx(L,{}),label:"Rechazado"}):t===k.Finalizado?e.jsx(M,{icon:e.jsx(L,{}),label:"Finalizado"}):t===k.Anulado?e.jsx(M,{icon:e.jsx(L,{}),label:"Anulado"}):t===k.NoAtendido?e.jsx(M,{icon:e.jsx(L,{}),label:"No Atendido"}):e.jsx(M,{label:"Error id"}),No=({handleChangePage:t,handleChangeRowsPerPage:r,page:n,rowsPerPage:s,tickets:a})=>e.jsx(e.Fragment,{children:e.jsxs(x,{spacing:1,direction:"row",alignItems:"center",justifyContent:"end",children:[e.jsx("p",{children:"N째 Tickets:"}),e.jsxs(ve,{id:"control-select",name:"control-select",value:s,onChange:r,size:"small",inputProps:{"aria-label":"Select RowsPerPage"},SelectDisplayProps:{style:{paddingTop:5,paddingBottom:5}},children:[e.jsx(G,{value:10,children:10}),e.jsx(G,{value:20,children:20}),e.jsx(G,{value:50,children:50})]}),e.jsxs("p",{children:[a>0?n*s+1:0,"-",(n+1)*s<a?(n+1)*s:a," de ",a]}),e.jsx(Dt,{count:a,onPageChange:t,rowsPerPage:s,page:n})]})}),Uo=({ctrl_id:t,nodo:r})=>{const[n,s]=b.useState(!0),[a,i]=b.useState(0),[o,l]=b.useState(10),{date:g,priority:v,state:f}=Ce(C=>C.ticketStore),y=C=>{l(C.target.value),i(0)},z=(C,D)=>{i(D)},[w,{isError:$,isSuccess:c,data:B}]=St();return b.useEffect(()=>{const C={};f.length>0&&(C.state=f),g!==""&&(C.dateRange={end:fe(g,"DD/MM/YYYY").format("YYYY-MM-DD"),start:fe(g,"DD/MM/YYYY").format("YYYY-MM-DD")}),v!==""&&(C.priority=v),w({ctrl_id:t,limit:o,offset:a*o,filters:C},!1)},[t,a,o,g,v,f]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{children:[e.jsx(h,{children:e.jsx(E,{"aria-label":"expand row",size:"small",onClick:()=>s(!n),children:n?e.jsx(_t,{}):e.jsx(Bt,{})})}),e.jsx(h,{children:ne(r,15)}),e.jsx(h,{colSpan:6,children:e.jsxs(e.Fragment,{children:[c&&n&&B&&e.jsx(No,{handleChangePage:z,handleChangeRowsPerPage:y,page:a,rowsPerPage:o,tickets:B.total_size}),$&&e.jsxs(Ze,{variant:"filled",severity:"error",children:["Error obtener tickets del nodo : ",r]})]})})]}),n&&c&&B&&e.jsx(e.Fragment,{children:B.data.map(C=>e.jsx(Yo,{ctrl_id:t,registroTicket:C},`${C.rt_id}_${C.estd_id}`))})]})},Yo=({ctrl_id:t,registroTicket:r})=>{var c,B,C,D,N;const[n,s]=b.useState(r),[a,{isSuccess:i}]=Rt(),[o,{isSuccess:l,data:g}]=zt(),[v,f]=b.useState(!1),y=Ce(I=>I.auth),z=()=>{f(!1)},w=()=>{f(!0)},$=I=>{a({action:I,ctrl_id:t,rt_id:n.rt_id})};return b.useEffect(()=>{l&&g&&s(g)},[l,g]),b.useEffect(()=>{i&&o({ctrl_id:t,rt_id:n.rt_id})},[i]),e.jsx(e.Fragment,{children:e.jsxs(te,{children:[e.jsx(h,{}),e.jsx(h,{}),e.jsx(h,{children:n.rt_id}),e.jsx(h,{children:`${ne(n.nombre,15,!0)}  ${ne(n.apellido,15)}`}),e.jsx(h,{children:ne(n.descripcion,40,!0)}),e.jsx(h,{children:e.jsx(Go,{id:n.estd_id})}),e.jsx(h,{children:X(n.fechacomienzo)}),e.jsx(h,{children:e.jsxs(x,{direction:"row",spacing:n.estd_id===k.Esperando||n.estd_id===k.Aceptado?2:void 0,justifyContent:"space-between",children:[e.jsx(to,{variant:"contained","aria-label":"outlined button group",size:"small",color:"primary",children:e.jsxs(x,{direction:"row",spacing:1,children:[((c=y.user)==null?void 0:c.rl_id)===Q.Invitado&&(n.estd_id===k.Esperando||n.estd_id===k.Aceptado)&&e.jsx(me,{fechacomienzo:n.fechacomienzo,fechatermino:n.fechatermino,rangeDate:!1,children:e.jsx(A,{onClick:()=>$(k.Cancelado),children:"Cancelar"})}),(((B=y.user)==null?void 0:B.rl_id)===Q.Usuario||((C=y.user)==null?void 0:C.rl_id)===Q.Administrador)&&(n.estd_id===k.Esperando||n.estd_id===k.Aceptado)&&e.jsxs(me,{fechacomienzo:n.fechacomienzo,fechatermino:n.fechatermino,rangeDate:!1,children:[n.estd_id===k.Esperando&&e.jsx(A,{onClick:()=>$(k.Aceptado),children:"Aceptar"}),n.estd_id===k.Esperando&&e.jsx(A,{onClick:()=>$(k.Rechazado),children:"Rechazar"}),n.estd_id===k.Aceptado&&e.jsx(A,{onClick:()=>$(k.Cancelado),children:"Cancelar"})]}),(((D=y.user)==null?void 0:D.rl_id)===Q.Usuario||((N=y.user)==null?void 0:N.rl_id)===Q.Administrador)&&n.estd_id===k.Aceptado&&e.jsxs(me,{fechacomienzo:n.fechacomienzo,fechatermino:n.fechatermino,rangeDate:!0,children:[e.jsx(A,{onClick:()=>$(k.Finalizado),children:"Finalizar"}),e.jsx(A,{onClick:()=>$(k.Anulado),children:"Anular"})]})]})}),e.jsx(A,{variant:"contained",color:"info",startIcon:e.jsx(et,{}),onClick:w,children:"Detalles"})]})}),v&&e.jsx(Ao,{isOpen:v,handleCloseDialog:z,data:{ctrl_id:t,p_id:n.p_id,rt_id:n.rt_id}})]})})},Ho=()=>{const{isSuccess:t,isError:r,data:n}=$t();return e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:e.jsx(e.Fragment,{children:e.jsxs(x,{children:[e.jsx(d,{component:"h5",variant:"h5",children:"HISTORIAL DE TICKETS"}),e.jsx(Oo,{})]})})}),e.jsx(K,{children:e.jsx(Ye,{component:He,children:e.jsxs(Ve,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[e.jsx(We,{children:e.jsxs(te,{children:[e.jsx(h,{}),e.jsx(h,{children:"Nodo"}),e.jsx(h,{children:"#Ticket"}),e.jsx(h,{children:"Solicitante"}),e.jsx(h,{children:"Descripcion"}),e.jsx(h,{children:"Estado"}),e.jsx(h,{children:"Fecha Trabajo"}),e.jsx(h,{children:"Acciones"})]})}),e.jsxs(qe,{children:[t&&n.map(s=>{const{ctrl_id:a,nodo:i,region:o}=s;return e.jsx(Uo,{ctrl_id:a,nodo:i,region:o},s.ctrl_id)}),r&&e.jsx(Ze,{variant:"filled",severity:"error",children:"Error al cargar nodos."})]})]})})})]})},ur=()=>e.jsx(e.Fragment,{children:e.jsx(p,{size:{xs:12},children:e.jsx(J,{children:e.jsx(Ho,{})})})});export{ur as HistorialPage,ur as default};
