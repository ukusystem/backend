import{c as k,j as e,M as _,N as C,r as j,H as g,$ as q,a0 as B,I as H,a5 as L}from"./index-9bd1da2a.js";import{I as b,B as O}from"./InputLabel-9c0bbf31.js";const w=k(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var l={},A=C;Object.defineProperty(l,"__esModule",{value:!0});var P=l.default=void 0,T=A(_()),U=e;P=l.default=(0,T.default)((0,U.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var u={},N=C;Object.defineProperty(u,"__esModule",{value:!0});var I=u.default=void 0,V=N(_()),G=e;I=u.default=(0,V.default)((0,G.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Q=({supportedFormats:d,handleError:o,count:h,maxSize:v,onUpload:y,onDelete:S,files:r,setFiles:p,children:$,buttonStyle:F={}})=>{const c=j.useRef(null),M=()=>{c.current&&c.current.click()},z=n=>d.includes(n.type),D=n=>{const t=v*1024*1024;return n.size<=t},E=n=>{const t=n.target,s=t.files,i=[];if(s)if(r.length+s.length>h){o(`El número máximo de archivos permitidos es ${h}.`),t.value="";return}else{Array.from(s).forEach(a=>{if(z(a))if(D(a))i.push(a);else{o(`El archivo ${a.name} excede el tamaño máximo permitido ${v}MB.`);return}else{o(`El archivo ${a.name} no es un tipo de archivo permitido.`);return}});const m=i.filter(a=>!r.some(x=>{const f=x.name===a.name&&x.size===a.size;return f&&o(`El archivo ${a.name} ya existe.`),f}));m.length>0&&p(a=>[...a,...m])}t.value=""},R=n=>{const t=r.filter((s,i)=>i!==n);p(t),S(t)};return j.useEffect(()=>{r.length>0&&y(r)},[r]),e.jsx(e.Fragment,{children:e.jsxs(g,{spacing:2,children:[e.jsx(b,{htmlFor:"choose-files",onClick:n=>n.preventDefault(),children:$}),e.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:c,onChange:E,accept:d.join(" , ")}),e.jsx(O,{onClick:M,variant:"contained",startIcon:e.jsx(w,{}),sx:F,children:"Seleccionar"}),e.jsx(g,{children:r.length>0&&e.jsx(q,{children:r.map((n,t,s)=>{const{name:i}=n;return e.jsx(B,{divider:t<s.length-1,secondaryAction:e.jsx(H,{onClick:()=>R(t),edge:"end",children:e.jsx(I,{color:"error"})}),children:e.jsx(L,{primary:i,secondary:""})},t)})})})]})})};export{Q as C,P as d};
