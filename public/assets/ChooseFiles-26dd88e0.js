import{b3 as M,j as n,a5 as b,a6 as D,r as f,K as j,a3 as L,V as q,ab as B,ac as g,I as w,ck as N,ai as O}from"./index-0f417446.js";const U=M(n.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var H=(e=>(e[e.Esperando=1]="Esperando",e[e.Aceptado=2]="Aceptado",e[e.Cancelado=3]="Cancelado",e[e.Rechazado=4]="Rechazado",e[e.Finalizado=16]="Finalizado",e[e.Anulado=17]="Anulado",e[e.NoAtendido=18]="NoAtendido",e))(H||{}),d={},K=D;Object.defineProperty(d,"__esModule",{value:!0});var P=d.default=void 0,V=K(b()),G=n;P=d.default=(0,V.default)((0,G.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");const Q=({supportedFormats:e,handleError:t,count:u,maxSize:h,onUpload:C,onDelete:F,files:r,setFiles:p,children:z,buttonStyle:I={}})=>{const c=f.useRef(null),y=()=>{c.current&&c.current.click()},E=o=>e.includes(o.type),A=o=>{const a=h*1024*1024;return o.size<=a},_=o=>{const a=o.target,l=a.files,i=[];if(l)if(r.length+l.length>u){t(`El número máximo de archivos permitidos es ${u}.`),a.value="";return}else{Array.from(l).forEach(s=>{if(E(s))if(A(s))i.push(s);else{t(`El archivo ${s.name} excede el tamaño máximo permitido ${h}MB.`);return}else{t(`El archivo ${s.name} no es un tipo de archivo permitido.`);return}});const m=i.filter(s=>!r.some(v=>{const x=v.name===s.name&&v.size===s.size;return x&&t(`El archivo ${s.name} ya existe.`),x}));m.length>0&&p(s=>[...s,...m])}a.value=""},$=o=>{const a=r.filter((l,i)=>i!==o);p(a),F(a)};return f.useEffect(()=>{r.length>0&&C(r)},[r]),n.jsx(n.Fragment,{children:n.jsxs(j,{spacing:2,children:[n.jsx(L,{htmlFor:"choose-files",onClick:o=>o.preventDefault(),children:z}),n.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:c,onChange:_,accept:e.join(" , ")}),n.jsx(q,{onClick:y,variant:"contained",startIcon:n.jsx(U,{}),sx:I,children:"Seleccionar"}),n.jsx(j,{children:r.length>0&&n.jsx(B,{children:r.map((o,a,l)=>{const{name:i}=o;return n.jsx(g,{divider:a<l.length-1,secondaryAction:n.jsx(w,{onClick:()=>$(a),edge:"end",children:n.jsx(N,{color:"error"})}),children:n.jsx(O,{primary:i,secondary:""})},a)})})})]})})};export{Q as C,H as R,P as d};
