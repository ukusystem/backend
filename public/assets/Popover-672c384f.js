import{r as i,a as me,g as Pe,s as ee,bS as ge,_ as ve,b as ye,bo as Y,bl as _,c2 as q,e as J,bM as be,j as T,i as xe,f as we,bA as Ce,bk as Ee}from"./index-29b147f0.js";function je({props:o,states:e,muiFormControl:n}){return e.reduce((h,u)=>(h[u]=o[u],n&&typeof o[u]>"u"&&(h[u]=n[u]),h),{})}const Re=i.createContext(void 0),Te=Re;function De(){return i.useContext(Te)}function Oe(o){return me("MuiPopover",o)}Pe("MuiPopover",["root","paper"]);function K(o,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=o.height/2:e==="bottom"&&(n=o.height),n}function Q(o,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=o.width/2:e==="right"&&(n=o.width),n}function Z(o){return[o.horizontal,o.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function O(o){return typeof o=="function"?o():o}const ze=o=>{const{classes:e}=o;return we({root:["root"],paper:["paper"]},Oe,e)},Se=ee(ge,{name:"MuiPopover",slot:"Root",overridesResolver:(o,e)=>e.root})({}),Me=ee(ve,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ke=i.forwardRef(function(e,n){const h=ye({props:e,name:"MuiPopover"}),{action:u,anchorEl:c,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:z,anchorReference:v="anchorEl",children:oe,className:te,container:ne,elevation:S=8,marginThreshold:a=16,open:p,PaperProps:re={},slots:se={},slotProps:b={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:x=Ce,transitionDuration:w="auto",TransitionProps:{onEntering:M,...k}={},disableScrollLock:C=!1,...ie}=h,d=(b==null?void 0:b.paper)??re,E=i.useRef(),R={...h,anchorOrigin:g,anchorReference:v,elevation:S,marginThreshold:a,externalPaperSlotProps:d,transformOrigin:y,TransitionComponent:x,transitionDuration:w,TransitionProps:k},W=ze(R),j=i.useCallback(()=>{if(v==="anchorPosition")return z;const t=O(c),s=(t&&t.nodeType===1?t:Y(E.current).body).getBoundingClientRect();return{top:s.top+K(s,g.vertical),left:s.left+Q(s,g.horizontal)}},[c,g.horizontal,g.vertical,z,v]),D=i.useCallback(t=>({vertical:K(t,y.vertical),horizontal:Q(t,y.horizontal)}),[y.horizontal,y.vertical]),H=i.useCallback(t=>{const r={width:t.offsetWidth,height:t.offsetHeight},s=D(r);if(v==="none")return{top:null,left:null,transformOrigin:Z(s)};const U=j();let m=U.top-s.vertical,P=U.left-s.horizontal;const I=m+r.height,B=P+r.width,G=_(O(c)),V=G.innerHeight-a,X=G.innerWidth-a;if(a!==null&&m<a){const l=m-a;m-=l,s.vertical+=l}else if(a!==null&&I>V){const l=I-V;m-=l,s.vertical+=l}if(a!==null&&P<a){const l=P-a;P-=l,s.horizontal+=l}else if(B>X){const l=B-X;P-=l,s.horizontal+=l}return{top:`${Math.round(m)}px`,left:`${Math.round(P)}px`,transformOrigin:Z(s)}},[c,v,j,D,a]),[ae,L]=i.useState(p),f=i.useCallback(()=>{const t=E.current;if(!t)return;const r=H(t);r.top!==null&&(t.style.top=r.top),r.left!==null&&(t.style.left=r.left),t.style.transformOrigin=r.transformOrigin,L(!0)},[H]);i.useEffect(()=>(C&&window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[c,C,f]);const le=(t,r)=>{M&&M(t,r),f()},ce=()=>{L(!1)};i.useEffect(()=>{p&&f()}),i.useImperativeHandle(u,()=>p?{updatePosition:()=>{f()}}:null,[p,f]),i.useEffect(()=>{if(!p)return;const t=Ee(()=>{f()}),r=_(c);return r.addEventListener("resize",t),()=>{t.clear(),r.removeEventListener("resize",t)}},[c,p,f]);let A=w;w==="auto"&&!x.muiSupportAuto&&(A=void 0);const fe=ne||(c?Y(O(c)).body:void 0),F={slots:se,slotProps:{...b,paper:d}},[pe,$]=q("paper",{elementType:Me,externalForwardedProps:F,additionalProps:{elevation:S,className:J(W.paper,d==null?void 0:d.className),style:ae?d.style:{...d.style,opacity:0}},ownerState:R}),[N,{slotProps:ue,...de}]=q("root",{elementType:Se,externalForwardedProps:F,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:fe,open:p},ownerState:R,className:J(W.root,te)}),he=be(E,$.ref);return T.jsx(N,{...de,...!xe(N)&&{slotProps:ue,disableScrollLock:C},...ie,ref:n,children:T.jsx(x,{appear:!0,in:p,onEntering:le,onExited:ce,timeout:A,...k,children:T.jsx(pe,{...$,ref:he,children:oe})})})}),He=ke;export{Te as F,He as P,Me as a,je as f,De as u};
