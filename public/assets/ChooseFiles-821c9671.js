import{c as k,j as e,K as _,L as C,r as j,E as g,Y as L,Z as q,I as B,a3 as b}from"./index-ada4c4db.js";import{I as H}from"./InputLabel-40350896.js";import{B as O}from"./Button-dd480b88.js";const w=k(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");var c={},A=C;Object.defineProperty(c,"__esModule",{value:!0});var P=c.default=void 0,T=A(_()),U=e,V=(0,T.default)((0,U.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");P=c.default=V;var u={},K=C;Object.defineProperty(u,"__esModule",{value:!0});var I=u.default=void 0,Y=K(_()),Z=e,G=(0,Y.default)((0,Z.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");I=u.default=G;const W=({supportedFormats:d,handleError:o,count:h,maxSize:v,onUpload:y,onDelete:S,files:a,setFiles:p,children:$,buttonStyle:z={}})=>{const l=j.useRef(null),F=()=>{l.current&&l.current.click()},E=n=>d.includes(n.type),M=n=>{const t=v*1024*1024;return n.size<=t},D=n=>{const t=n.target,s=t.files,i=[];if(s)if(a.length+s.length>h){o(`El número máximo de archivos permitidos es ${h}.`),t.value="";return}else{Array.from(s).forEach(r=>{if(E(r))if(M(r))i.push(r);else{o(`El archivo ${r.name} excede el tamaño máximo permitido ${v}MB.`);return}else{o(`El archivo ${r.name} no es un tipo de archivo permitido.`);return}});const m=i.filter(r=>!a.some(f=>{const x=f.name===r.name&&f.size===r.size;return x&&o(`El archivo ${r.name} ya existe.`),x}));m.length>0&&p(r=>[...r,...m])}t.value=""},R=n=>{const t=a.filter((s,i)=>i!==n);p(t),S(t)};return j.useEffect(()=>{a.length>0&&y(a)},[a]),e.jsx(e.Fragment,{children:e.jsxs(g,{spacing:2,children:[e.jsx(H,{htmlFor:"choose-files",onClick:n=>n.preventDefault(),children:$}),e.jsx("input",{multiple:!0,type:"file",id:"choose-files",name:"choose-files",hidden:!0,ref:l,onChange:D,accept:d.join(" , ")}),e.jsx(O,{onClick:F,variant:"contained",startIcon:e.jsx(w,{}),sx:z,children:"Seleccionar"}),e.jsx(g,{children:a.length>0&&e.jsx(L,{children:a.map((n,t,s)=>{const{name:i}=n;return e.jsx(q,{divider:t<s.length-1,secondaryAction:e.jsx(B,{onClick:()=>R(t),edge:"end",children:e.jsx(I,{color:"error"})}),children:e.jsx(b,{primary:i,secondary:""})},t)})})})]})})};export{W as C,P as d};
